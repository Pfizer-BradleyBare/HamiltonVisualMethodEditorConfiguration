// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "Hamilton FlipTubeTool\\Hamilton FlipTubeTool.hsl"
#include "VirtualLabware_V2.hsl"
#include "HSLTrcLib.hsl"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorConfiguration\\Modules\\Pipette\\Configuration\\Pipette Config.hs_"
#include "HSLExtensions\\Array2D.hsl"
#include "HSLStrLib.hsl"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorConfiguration\\Modules\\Script\\Module\\Script.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Tools\\Tools.hs_"
#include "HSLUtilLib.hsl"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Commands\\Commands.hs_"
#include "Visual_NTR_library\\Visual_NTR_library.hs_"
#include "HSLSeqLib.hsl"
#include "IMCS\\HSLTipCountingLib.hsl"
#include "HSLDevLib.hsl"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Labware\\Labware.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Sequences\\Sequences.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\PfizerTools\\PfizerToolsVCurrent.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Return\\Return.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorMethod\\Library\\Return\\ReturnIDs.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorConfiguration\\Modules\\Pipette\\Configuration\\Pipette Config Liquid Classes.hs_"
#include "C:\\Program Files (x86)\\HAMILTON\\BAREB\\Script\\HamiltonVisualMethodEditor\\HamiltonVisualMethodEditorConfiguration\\Modules\\Pipette\\Configuration\\Pipette Config Plate Equations.hs_"
#include "HSLUtilLib2.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
#include "HSLPTLLib.hsl"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace PIPETTE {
// }} ""
global variable _MODULE_PIPETTE_IsInit("False");
global variable _MODULE_PIPETTE_TrackedTipSequenceStrings[];
global variable _MODULE_PIPETTE_TrackedTipSequencesNumUsed[];
global variable _MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence[];
global variable _MODULE_PIPETTE_TrackedTipSequenceVolumes[];
global variable _MODULE_PIPETTE_TrackedTipSequencesTipCounter[];
global variable _MODULE_PIPETTE_TrackedTipSequencesWasteSequence[];
global variable _MODULE_PIPETTE_TrackedTipSequenceTypes[];
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function AddUsedTips( variable TipSequenceString, variable TipSequenceType, variable TipSequenceVolume, variable TipSequenceWasteSequenceString, variable NumTips ) void ;
private function CalculateUsedTips( device & ML_STAR, variable & TipSequenceStrings[], variable & TipSequenceTypes[], variable & TipSequenceVolumes[], variable & TipSequenceWasteSequenceStrings[], variable & VolumesArray[] ) void ;
function CalculateVolumeHeights( variable & i_PlateTypes[], variable & i_Volumes[], variable & o_CalculatedHeights[] ) variable ;
function DeInit( device & ML_STAR, variable i_CommandString ) variable ;
function DoCommand( device & ML_STAR, variable i_CommandString ) variable ;
function DoTipLoading( device & ML_STAR ) void ;
private function Flip_Tube_Functions( variable int_FlipTubeFunction, sequence & seq_FlipTubeTool, sequence & seq_TubeSequence, variable str_ChannelPattern, variable var_PickUpTool, variable var_EjectTool, device & ML_STAR ) void ;
private function GetLiquidClassStrings( device & ML_STAR, variable i_CommandString ) variable ;
function GetNumUsedTips( variable & o_Dict[] ) void ;
function GetTipSequenceInfo( variable i_TipSequenceString, variable & o_TipInfoDict[] ) void ;
private function GetTipSequenceStrings( device & ML_STAR, variable i_CommandString ) variable ;
function Init( device & ML_STAR, variable i_CommandParameterStrings ) variable ;
private function SaveTipLoading( device & ML_STAR ) void ;
function ShowTipsDialog(  ) void ;
private function TransferLiquid( device & ML_STAR, variable i_CommandParameterStrings ) variable ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
PTL::SetWashingStateDefault("RinseTime1", 5);
PTL::SetWashingStateDefault("SoakTime1", 5);
PTL::SetWashingStateDefault("FlowRate1", 11);
PTL::SetWashingStateDefault("RinseTime2", 0);
PTL::SetWashingStateDefault("SoakTime2", 0);
PTL::SetWashingStateDefault("FlowRate2", 11);
PTL::SetWashingStateDefault("DrainingTime", 10);
PTL::SetWashingStateDefault("StartWashLiquid", 0);
PTL::SetLoadingStateDefault("RecoveryOptionContinue", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionExclude", hslTrue);
PTL::SetLoadingStateDefault("RecoveryOptionDefault", 0);
PTL::SetLoadingStateDefault("KitLotCheckEnabled", hslFalse);
PIPETTE_CONFIG::_InitLibrary();
SCRIPT::_InitLibrary();
TOOLS::_InitLibrary();
COMMANDS::_InitLibrary();
VISUAL_NTR_LIBRARY::_InitLibrary();
LABWARE::_InitLibrary();
SEQUENCES::_InitLibrary();
PFIZERTOOLSVCURRENT::_InitLibrary();
RETURN::_InitLibrary();
RETURNIDS::_InitLibrary();
PIPETTE_CONFIG_LIQUID_CLASSES::_InitLibrary();
PIPETTE_CONFIG_PLATE_EQUATIONS::_InitLibrary();
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
PIPETTE_CONFIG::_ExitLibrary();
SCRIPT::_ExitLibrary();
TOOLS::_ExitLibrary();
COMMANDS::_ExitLibrary();
VISUAL_NTR_LIBRARY::_ExitLibrary();
LABWARE::_ExitLibrary();
SEQUENCES::_ExitLibrary();
PFIZERTOOLSVCURRENT::_ExitLibrary();
RETURN::_ExitLibrary();
RETURNIDS::_ExitLibrary();
PIPETTE_CONFIG_LIQUID_CLASSES::_ExitLibrary();
PIPETTE_CONFIG_PLATE_EQUATIONS::_ExitLibrary();
// }} ""
}
// {{{ 5 "Init" "Begin"
function Init( device & ML_STAR, variable i_CommandParameterStrings ) variable {
// }} ""
private variable NumTypes;
private variable TipSequenceTypes[];
private variable Volume;
private variable Dict[];
private variable Delimiter;
private variable VolumeStringArray[];
private variable VolumeArray[];
private variable SS;
private variable SSA[];
private variable ID;
private variable ReturnString;
private variable TipSequenceVolumes[];
private variable TipSequenceWasteSequenceStrings[];
private variable TipSequenceStrings[];
// {{ 5 "Init" "InitLocals"
// }} ""
// {{ 376 1 0 "83523699_cc7c_4679_8986be29f2df724e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (_MODULE_PIPETTE_IsInit == "True")
{
// }} ""
// {{{ 377 1 0 "57c4cf44_28e8_4cee_8ba87bc6d29c3a15" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessRequestSkipped();
// }} ""
// {{{ 378 1 0 "9ae0bb6b_0c19_4108_b8b20631e549d7c5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Already Initialized"), Translate(""), Translate(""));
// }} ""
// {{{ 379 1 0 "e740cb17_fcaf_4382_addd20ba83f205c2" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 380 1 0 "83523699_cc7c_4679_8986be29f2df724e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 381 1 0 "5006baab_d3d6_480c_858a5837a60a2a65" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
_MODULE_PIPETTE_IsInit = Translate("True");
// }} ""
// {{{ 382 1 0 "1b9cf540_a547_4b8a_982d5d57cb484fb7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SCRIPT::Init();
// }} ""
// {{{ 383 1 0 "1feaf281_f701_4f2e_b8e324fe4105524b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::Init();
// }} ""
// {{ 384 1 0 "10a416a7_0363_455e_b8cafa7e2d9b0abd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 385 1 0 "7c7dbe51_025c_4e82_aea47859ef5f20a9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("***** Checking Pipette module sequences for validity *****"));
// }} ""
// {{ 386 1 0 "15ffd3af_ff84_4cd6_bb8a9e10087e385b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("***** Checking Pipette module sequences for validity ***** Tools"));
// }} ""
// {{ 387 1 0 "310f0e63_5c04_49b1_baee280197f9b010" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SSA.SetSize(0);
// }} ""
// {{{ 388 1 0 "b774d050_9129_43d3_bfe36a0a314ef7ec" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SS = PIPETTE_CONFIG::GetCoreGripToolSequenceString();
// }} ""
// {{ 389 1 0 "bc887920_2ef8_4117_bd90eeaf9e26aa29" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SSA.AddAsLast(SS);
// }} ""
// {{{ 390 1 0 "65c0bf15_b7bc_4c07_88acffc8267fa7b8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SS = PIPETTE_CONFIG::GetFlipTubeToolSequenceString();
// }} ""
// {{ 391 1 0 "d25c4966_a355_4246_aa4c6ce02eaeeed1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SSA.AddAsLast(SS);
// }} ""
// {{{ 392 1 0 "6074a2f3_cc8c_47ad_b17f216af104956c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SEQUENCES::CheckSequences(ML_STAR, SSA);
// }} ""
// {{ 393 1 0 "36ff2795_eae4_43a1_b480b29ab08b2aca" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("***** Checking Pipette module sequences for validity ***** Tips"));
// }} ""
// {{{ 394 1 0 "5945a8ce_f8fa_472f_937dc51d21e951e6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceStrings(SSA);
// }} ""
// {{{ 395 1 0 "0b6bb708_fc0b_488f_8a209b3f38e77f01" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SEQUENCES::CheckSequences(ML_STAR, SSA);
// }} ""
// {{ 396 1 0 "c08a93d1_4d49_4062_bf82bb9f2b34afa9" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("***** Checking Pipette module sequences for validity ***** Waste"));
// }} ""
// {{{ 397 1 0 "81008f7e_eb6b_46f9_8dbf01bfa0a813e8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceWasteSequenceStrings(SSA);
// }} ""
// {{{ 398 1 0 "c0f54e40_f02c_4a96_adbe2a38c7c23315" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SEQUENCES::CheckSequences(ML_STAR, SSA);
// }} ""
// {{ 399 1 0 "6fca7b48_70d3_4ebb_b48233c8af1c2a26" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("***** Checking Pipette module sequences for validity ***** SUCCESS"));
// }} ""
// {{ 400 1 0 "10a416a7_0363_455e_b8cafa7e2d9b0abd" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 401 1 0 "98f41a05_5910_40e7_9f5127dd9eb5d751" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceTypes(TipSequenceTypes);
// }} ""
// {{ 402 1 0 "50264f94_2de4_498d_a5333256a3bae169" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTypes=TipSequenceTypes.GetSize();
// }} ""
// {{ 403 1 0 "8199550e_ed47_44fa_a372977431df6998" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequenceStrings.SetSize(0);
// }} ""
// {{ 404 1 0 "7eefff6e_e3c5_43ed_b34eecb85572632d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequenceTypes.SetSize(0);
// }} ""
// {{ 405 1 0 "64ee22a1_a3d3_4028_a88f264488164fb0" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequenceVolumes.SetSize(0);
// }} ""
// {{ 406 1 0 "42437ef1_73b0_4ce1_92883779ed4a9f22" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed.SetSize(0);
// }} ""
// {{ 407 1 0 "be640a7b_4494_4561_b2a83006b4b39779" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequencesTipCounter.SetSize(0);
// }} ""
// {{ 408 1 0 "94b37014_1043_49fd_b072e86ed9f1d341" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequencesWasteSequence.SetSize(0);
// }} ""
// {{ 409 1 0 "b60b9a42_3586_4225_b3af25833537c0d4" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.SetSize(0);
// }} ""
// {{ 410 1 0 "b7350319_3351_4fa6_b0492771dc977e29" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
_MODULE_PIPETTE_TrackedTipSequencesTipCounter.SetSize(0);
// }} ""
// {{{ 411 1 0 "fa3c46b6_e8bd_48f3_841402aa665bce62" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::ParseCommandParametersString(i_CommandParameterStrings, Dict);
// }} ""
// {{{ 412 1 0 "0d85e2cc_c65e_4652_b31b71453225b4a9" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("Volume"), Volume);
// }} ""
// {{{ 413 1 0 "867d29b0_cba9_46f4_a1e0f3057b6c6332" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Delimiter = COMMANDS::GetCommandStringDelimiter();
// }} ""
// {{{ 414 1 0 "2a4f7698_bd28_410e_8ff744e725fcbb3f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, Volume, VolumeStringArray);
// }} ""
// {{{ 415 1 0 "b8a75f0b_92c9_4443_b4e35905a09a59c4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(VolumeStringArray, VolumeArray);
// }} ""
// {{{ 416 1 0 "32b50bd9_1b2d_4225_95ecd2f0375fd94f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceStrings(TipSequenceStrings);
// }} ""
// {{{ 417 1 0 "83487f8a_e0fd_4854_8cd952d31ba58550" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceTypes(TipSequenceTypes);
// }} ""
// {{{ 418 1 0 "2c31db92_87d8_4c06_b47afe6d47f9e809" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceVolumes(TipSequenceVolumes);
// }} ""
// {{{ 419 1 0 "5b217ba2_d30f_400f_8c9d277998b04ab5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceWasteSequenceStrings(TipSequenceWasteSequenceStrings);
// }} ""
// {{{ 420 1 0 "ff18b0f7_6b9b_4316_b1b256ac9f57e593" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
CalculateUsedTips(ML_STAR, TipSequenceStrings, TipSequenceTypes, TipSequenceVolumes, TipSequenceWasteSequenceStrings, VolumeArray);
// }} ""
// {{{ 421 1 0 "1f624b07_274e_4336_bc928967ec07ab52" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::Initialize(0);
// }} ""
// {{{ 422 1 0 "dfaa1965_cdc5_4926_a19a99c8f392db12" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessNoErrors();
// }} ""
// {{{ 423 1 0 "1d4326d2_c207_464b_bad934ae03e6c41e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Init always succeeds"), Translate(""), Translate(""));
// }} ""
// {{{ 424 1 0 "25263bc5_f080_4e46_9f8b5c09f58be818" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "Init" "End"
}
// }} ""
// {{{ 5 "TransferLiquid" "Begin"
private function TransferLiquid( device & ML_STAR, variable i_CommandParameterStrings ) variable {
// }} ""
private variable SourcePositionsString;
private variable DestinationPositionsString;
private variable SourcesString;
private variable DestinationsString;
private variable TransferVolumesString;
private variable Dict[];
private variable Delimiter;
private variable DestinationSequenceStringsArray[];
private variable DestinationPositionStringsArray[];
private variable SourceStringsArray[];
private variable SourceSequenceStringsArray[];
private variable TransferVolumeStringsArray[];
private variable SourcePositionStringsArray[];
private variable DestinationStringsArray[];
private variable SourcePositionsArray[];
private variable DestinationPositionsArray[];
private sequence DestinationSequencesArray[];
private sequence SourceSequencesArray[];
private variable MixParametersString;
private variable MixParameterStringsArray[];
private variable TransferVolumesArray[];
private variable MixParametersArray[];
private variable CurrentDestinationWellVolumesString;
private variable CurrentDestinationWellVolumesArray[];
private variable CurrentDestinationWellVolumeStringsArray[];
private variable Counter;
private variable NumTransfers;
private variable cLLD1000[];
private variable cLLD300[];
private variable LidSequenceList[];
private variable LiquidFollowing50[];
private variable DispenseHeight50[];
private variable FixedHeight1000[];
private variable LiquidFollowing1000[];
private variable FixedHeight50[];
private variable LiquidFollowing300[];
private variable TransferVolume50[];
private variable FixedHeight300[];
private variable DispenseHeight1000[];
private variable TransferVolume300[];
private variable cLLD50[];
private variable TransferVolume1000[];
private variable DispenseHeight300[];
private variable Trash;
private variable DestinationDispenseHeightsArray[];
private variable DestinationTypesArray[];
private variable LiquidFollowing;
private variable ItemIndex;
private variable cLLD;
private variable FixedHeight;
private variable DestinationMix50[];
private variable DestinationMixVolume300[];
private variable SourceMixVolume1000[];
private variable DestinationMix300[];
private variable SourceMixVolume300[];
private variable SourceTypesArray[];
private variable SourceMixVolume50[];
private variable SourceMix1000[];
private variable DestinationMixVolume50[];
private variable SourceLidSequenceStringsArray[];
private variable DestinationMixVolume1000[];
private variable SourceMix300[];
private variable SourceMix50[];
private variable DestinationMix1000[];
private variable DestinationLabID;
private variable SourceMix;
private variable SourcePosID;
private variable MixVolume;
private variable TransfersRequired;
private variable DestinationPosID;
private variable SourceLabID;
private variable DestinationMix;
private sequence DispenseSequence50;
private sequence DispenseSequence300;
private sequence Sequence;
private sequence AspirateSequence300;
private sequence AspirateSequence50;
private sequence DispenseSequence1000;
private sequence AspirateSequence1000;
private variable DispenseHeight;
private variable DispenseHeightDifference;
private variable DispenseHeightStep;
private variable DestinationFinalDispenseHeightsArray[];
private variable FinalDestinationWellVolumesArray[];
private variable Counter2;
private variable NumLids;
private variable Storage;
private variable CoreGripToolSequenceString;
private variable FlipTubeToolSequenceString;
private sequence FlipTubeToolSequence;
private sequence CoreGripToolSequence;
private variable SourcePlateLoadingLocationsArray[];
private variable loopCounter11;
private variable TrackedIndex;
private variable TipType;
private variable Index;
private variable SequenceSize;
private sequence wasteNTR;
private sequence TipSequence;
private variable TipSequenceVolumes[];
private variable TipSequenceTypes[];
private variable TipSequenceStrings[];
private variable ID;
private variable ReturnString;
private variable TipSequenceString;
private variable LiquidClassString;
private variable LiquidClassesArray[];
private variable LiquidClassStringsArray[];
private variable TipSequenceStringsArray[];
private variable LiquidClass1000[];
private variable LiquidClass300[];
private variable LiquidClass50[];
private variable TipSequence1000;
private variable TipSequence300;
private variable TipSequence50;
private variable KeepTips;
private variable DestinationPipettingOffset;
private variable DestinationPipettingOffsetString;
private variable DispenseHeightWithOffset;
private variable OutputLidSequenceList[];
// {{ 5 "TransferLiquid" "InitLocals"
// }} ""
// {{ 451 1 0 "9b05cf50_3e1f_4acb_b1970521e554752f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 452 1 0 "a88dbe81_122f_43ba_b9ffb21e07ea637e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::ParseCommandParametersString(i_CommandParameterStrings, Dict);
// }} ""
// {{{ 453 1 0 "70640caf_af89_465a_a1ef7a9d46a6084e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("Destination"), DestinationsString);
// }} ""
// {{{ 454 1 0 "a588b3b5_0fce_4afa_aad4f928f54ecd38" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("DestinationPosition"), DestinationPositionsString);
// }} ""
// {{{ 455 1 0 "dc1f13bb_13e7_4876_b89364693a5c6451" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("Source"), SourcesString);
// }} ""
// {{{ 456 1 0 "b1db054b_66a2_496b_98970dd026cb9c95" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("SourcePosition"), SourcePositionsString);
// }} ""
// {{{ 457 1 0 "d1fce665_65bc_4929_8e7faa120c3b025e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("TransferVolume"), TransferVolumesString);
// }} ""
// {{{ 458 1 0 "39061571_469e_4bfa_baff422908db6a42" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("CurrentDestinationVolume"), CurrentDestinationWellVolumesString);
// }} ""
// {{{ 459 1 0 "e5c69445_8c64_49a8_b6ca5aa6af7ce4ae" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("Mix"), MixParametersString);
// }} ""
// {{{ 460 1 0 "0631fd58_df07_4427_bad2d68d7c1eb0e6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("TipSequence"), TipSequenceString);
// }} ""
// {{{ 461 1 0 "33d55da6_880e_453c_912a0dfb869c933d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("LiquidClass"), LiquidClassString);
// }} ""
// {{{ 462 1 0 "753d25af_97d4_494f_ac6d9e65e3916af6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("DestinationPipettingOffset"), DestinationPipettingOffsetString);
// }} ""
// {{{ 463 1 0 "db5fd0e9_99ba_4b16_b7f97583919d466c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DestinationPipettingOffset = StrFVal(DestinationPipettingOffsetString);
// }} ""
// {{{ 464 1 0 "d4e1ef3b_4e13_4d7c_aecd03f48f355d81" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("KeepTips"), KeepTips);
// }} ""
// {{ 465 1 0 "5f0fd98d_66c5_4e59_96093db33e7fd0bf" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 466 1 0 "d10e28a4_ea1f_4dff_8abae45f96d28ac6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (KeepTips == "True")
{
// }} ""
// {{ 467 1 0 "384f5f69_d19b_4265_a6e108ed40226e33" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
KeepTips = 0;
// }} ""
// {{ 468 1 0 "d10e28a4_ea1f_4dff_8abae45f96d28ac6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 469 1 0 "0d68247f_3220_47f2_a74798fe699b72ef" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
KeepTips = 1;
// }} ""
// {{ 470 1 0 "d10e28a4_ea1f_4dff_8abae45f96d28ac6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 471 1 0 "2fe6fc01_0401_420b_a5c41f881f81e5ad" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 472 1 0 "6cc99ecd_56cb_40c3_bd346bd58e8c2118" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Delimiter = COMMANDS::GetCommandStringDelimiter();
// }} ""
// {{{ 473 1 0 "6a050b36_ed34_4437_b9c798f4f83ac5c7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, DestinationsString, DestinationStringsArray);
// }} ""
// {{{ 474 1 0 "e8ef5e63_abb9_41a7_8b0575210e50ff0d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, DestinationPositionsString, DestinationPositionStringsArray);
// }} ""
// {{{ 475 1 0 "02391466_5972_42d5_852e19a3cb669d6e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, SourcesString, SourceStringsArray);
// }} ""
// {{{ 476 1 0 "ff752225_10d6_4609_b0581defdea7868d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, SourcePositionsString, SourcePositionStringsArray);
// }} ""
// {{{ 477 1 0 "14d50221_2310_4b9e_a59a97925152f99c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, TransferVolumesString, TransferVolumeStringsArray);
// }} ""
// {{{ 478 1 0 "3b12f1d1_bdc1_4f00_95114bd6383e0340" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, CurrentDestinationWellVolumesString, CurrentDestinationWellVolumeStringsArray);
// }} ""
// {{{ 479 1 0 "a957776e_807e_446e_ad4e2caeb13872a6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, MixParametersString, MixParameterStringsArray);
// }} ""
// {{{ 480 1 0 "a1cd0450_cb86_4c26_bc643349230567e1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, TipSequenceString, TipSequenceStringsArray);
// }} ""
// {{{ 481 1 0 "167b48fc_a2ef_43ed_b6c071edbcc2dfef" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, LiquidClassString, LiquidClassStringsArray);
// }} ""
// {{ 482 1 0 "38f66a7c_76a5_4da3_b002330f5e0cf4cc" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 483 1 0 "06b0729d_cdc8_44a2_a15c2d7b4c0eebac" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LABWARE::GetPlateSequenceString(DestinationStringsArray, DestinationSequenceStringsArray);
// }} ""
// {{{ 484 1 0 "22b4b90b_9d51_49da_bbcdd99f275a4071" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LABWARE::GetPlateSequenceString(SourceStringsArray, SourceSequenceStringsArray);
// }} ""
// {{ 485 1 0 "3bb6e780_6a62_445a_827c79ff953d6d5a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 486 1 0 "9355d615_3c58_468e_bf699bbe08b291dc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SEQUENCES::StringToSequence(ML_STAR, DestinationSequenceStringsArray, DestinationSequencesArray);
// }} ""
// {{{ 487 1 0 "0d79b6ef_496b_47be_bf554da294ca1d09" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToIntArray(DestinationPositionStringsArray, DestinationPositionsArray);
// }} ""
// {{{ 488 1 0 "11e70552_99ec_49a0_b334e322f54c8ed4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SEQUENCES::StringToSequence(ML_STAR, SourceSequenceStringsArray, SourceSequencesArray);
// }} ""
// {{{ 489 1 0 "1956c346_eea2_4ebc_a89d03761db7a54e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToIntArray(SourcePositionStringsArray, SourcePositionsArray);
// }} ""
// {{{ 490 1 0 "67296597_8462_4b92_bacd02b7535ce059" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(TransferVolumeStringsArray, TransferVolumesArray);
// }} ""
// {{{ 491 1 0 "d4f89dad_8097_4632_b2271aa03faaab72" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(CurrentDestinationWellVolumeStringsArray, CurrentDestinationWellVolumesArray);
// }} ""
// {{ 492 1 0 "4d627af0_1f5b_41db_99c0a9d847625e08" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
MixParametersArray=MixParameterStringsArray;
// }} ""
// {{ 493 1 0 "6261f2cf_5a71_4000_ad6132705fa4a3cd" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
TipSequenceStringsArray=TipSequenceStringsArray;
// }} ""
// {{ 494 1 0 "4369c8f9_5229_4f5e_936dd5f93fd1c250" "{DB5A2B39-67F2-4a78-A78F-DAF3FB056366}"
LiquidClassesArray=LiquidClassStringsArray;
// }} ""
// {{ 495 1 0 "d4d3d5ab_a986_4601_a5a3a1a4ab6dec0b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 496 1 0 "992c0276_b39b_47e8_80ae5a90be9e4772" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LABWARE::GetPlateLabwareName(DestinationStringsArray, DestinationTypesArray);
// }} ""
// {{ 497 1 0 "7a7c0643_857e_45ff_81f388dca3204ca0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 498 1 0 "0f5f3f86_dcf0_46a0_ae341ce47b9ec27f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LABWARE::GetPlateLabwareCategory(SourceStringsArray, SourceTypesArray);
// }} ""
// {{{ 499 1 0 "ef0510b9_d5d5_40bb_895f6d70d5786f18" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Trash = LABWARE::GetPlateLidSequenceString(SourceStringsArray, SourceLidSequenceStringsArray);
// }} ""
// {{{ 500 1 0 "819d5acc_9d27_4b9f_af4c5e4af9d80b29" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Trash = LABWARE::GetPlateLoadingLocation(SourceStringsArray, SourcePlateLoadingLocationsArray);
// }} ""
// {{ 501 1 0 "8d23cb07_5664_4904_a289de160f6d0a21" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 502 1 0 "6f179784_cf7b_49ff_9f2f438879d5bf42" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::AddArrays(TransferVolumesArray, CurrentDestinationWellVolumesArray, FinalDestinationWellVolumesArray);
// }} ""
// {{{ 503 1 0 "185d62b1_7a67_448b_b84cc3d9d4223c43" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Trash = CalculateVolumeHeights(DestinationTypesArray, CurrentDestinationWellVolumesArray, DestinationDispenseHeightsArray);
// }} ""
// {{{ 504 1 0 "535fec5a_cfcd_4f6f_a68ff7bc0c2cda18" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Trash = CalculateVolumeHeights(DestinationTypesArray, FinalDestinationWellVolumesArray, DestinationFinalDispenseHeightsArray);
// }} ""
// {{ 505 1 0 "0696ebab_53fb_4802_8017743d2ea35b29" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 506 1 0 "efd11874_7b52_4c3c_98ce2612bd4947e0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 507 1 0 "97369c2a_2468_4799_bb480e58bcea1a59" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LidSequenceList.SetSize(0);
// }} ""
// {{ 508 1 0 "a7890f19_e4d1_4481_8635058aab29aa85" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence50 = Translate("");
// }} ""
// {{ 509 1 0 "42d2e13f_6d6f_4452_b96717e7444b80a6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence300 = Translate("");
// }} ""
// {{ 510 1 0 "735a78ef_a3e0_45cc_82605273b1722779" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence1000 = Translate("");
// }} ""
// {{ 511 1 0 "6bfa2b7e_a1be_4fdc_b7a636c5e060dc5f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidClass50.SetSize(0);
// }} ""
// {{ 512 1 0 "fba78506_a5ba_439a_b0b1c9d3068d91b6" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidClass300.SetSize(0);
// }} ""
// {{ 513 1 0 "cf23043b_66f7_497f_8a8dc91c79f13f62" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidClass1000.SetSize(0);
// }} ""
// {{ 514 1 0 "183e1e2a_fea4_40bc_a7a432dc8d0af83c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMix50.SetSize(0);
// }} ""
// {{ 515 1 0 "65661a49_6ddb_457e_96955d7d2032df8b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMix300.SetSize(0);
// }} ""
// {{ 516 1 0 "79ef2f63_bd5d_4fba_9c8c003f5012661c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMix1000.SetSize(0);
// }} ""
// {{ 517 1 0 "b1098269_0196_43dc_abe9e36eba5ecf8f" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMixVolume50.SetSize(0);
// }} ""
// {{ 518 1 0 "381f3f84_9d5c_4bf2_909b8a0696e2bdf9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMixVolume300.SetSize(0);
// }} ""
// {{ 519 1 0 "320ec39a_26d5_4fab_94d6919b82f87814" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
SourceMixVolume1000.SetSize(0);
// }} ""
// {{ 520 1 0 "f0bd3aa9_5ad6_4835_860a26e655ba02f7" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMix50.SetSize(0);
// }} ""
// {{ 521 1 0 "f28fb93e_d7ca_4863_967ee58035c209db" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMix300.SetSize(0);
// }} ""
// {{ 522 1 0 "bc701d3c_bad5_4c82_8d1e01ad8bd892a9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMix1000.SetSize(0);
// }} ""
// {{ 523 1 0 "1a3e84ce_0d38_4350_9e697e830d00330d" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMixVolume50.SetSize(0);
// }} ""
// {{ 524 1 0 "a4b06a6b_b59d_4e00_8c7ff668e12451b8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMixVolume300.SetSize(0);
// }} ""
// {{ 525 1 0 "e97c9184_40c0_433e_b5d5ca2fe6c53073" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DestinationMixVolume1000.SetSize(0);
// }} ""
// {{ 526 1 0 "d4639bab_0f04_4324_8757da65728952ac" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
cLLD50.SetSize(0);
// }} ""
// {{ 527 1 0 "7a25c622_dfee_4a44_869887c597b3fd69" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
cLLD300.SetSize(0);
// }} ""
// {{ 528 1 0 "ecce9ea3_4a7e_491f_9f77b65a17f65f15" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
cLLD1000.SetSize(0);
// }} ""
// {{ 529 1 0 "d249c36a_f71e_42fc_b5df8595b85514c5" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
FixedHeight50.SetSize(0);
// }} ""
// {{ 530 1 0 "685689d4_b5d0_4931_81de08612c7956ad" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
FixedHeight300.SetSize(0);
// }} ""
// {{ 531 1 0 "357bde08_8df7_43f5_b5e32b31a5624963" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
FixedHeight1000.SetSize(0);
// }} ""
// {{ 532 1 0 "33a450c9_fd90_4c33_9688ab007fd7e5ac" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidFollowing50.SetSize(0);
// }} ""
// {{ 533 1 0 "0556d95e_e0d8_4395_88737bc449281c6e" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidFollowing300.SetSize(0);
// }} ""
// {{ 534 1 0 "30385eb5_f757_4436_9cf3a662a38f8c35" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
LiquidFollowing1000.SetSize(0);
// }} ""
// {{ 535 1 0 "72a781dd_ec39_4b3e_87b6a5c1a2019a83" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
TransferVolume50.SetSize(0);
// }} ""
// {{ 536 1 0 "8cab6719_6cf5_4955_8026c175c1914d8b" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
TransferVolume300.SetSize(0);
// }} ""
// {{ 537 1 0 "d7dd7005_a772_426d_ba41dd6a536715ce" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
TransferVolume1000.SetSize(0);
// }} ""
// {{ 538 1 0 "245c0a8e_fac7_4a8a_ace9f0ad9234380c" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DispenseHeight50.SetSize(0);
// }} ""
// {{ 539 1 0 "91497d87_66a6_4db2_84079573b2d3efc1" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DispenseHeight300.SetSize(0);
// }} ""
// {{ 540 1 0 "60d3c2e9_a3fc_424f_b1fbb129726e5bdf" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
DispenseHeight1000.SetSize(0);
// }} ""
// {{ 541 1 0 "efd11874_7b52_4c3c_98ce2612bd4947e0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 542 1 0 "d8e31b68_49f3_4320_a7588b9ecadaaa2d" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTransfers=DestinationStringsArray.GetSize();
// }} ""
// {{ 543 1 0 "23e4e347_6974_4aa8_b0e1b83faff3c8a8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumTransfers;)
{
Counter = Counter + 1;
// }} ""
// {{ 544 1 0 "1904288b_c340_4535_98b77b15963288b0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = TransferVolumesArray.ElementAt( Counter -1) + CurrentDestinationWellVolumesArray.ElementAt( Counter -1);
// }} ""
// {{ 545 1 0 "fb991021_0131_42ff_aea7ad4ea6a10c1f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 546 1 0 "f0ad2520_f07e_4a76_b1b851177f3d4277" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SourceTypesArray.ElementAt( Counter -1) == "Plate")
{
// }} ""
// {{ 547 1 0 "dbf9bb9b_4b5e_41d1_a71e614ac73568b4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
cLLD = 0;
// }} ""
// {{ 548 1 0 "a397f5bd_f0ee_4fd7_898809fc4fac08c4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
FixedHeight = 0.75;
// }} ""
// {{ 549 1 0 "7bab76d1_722f_4b2f_a2ad3e1bcee7798d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
LiquidFollowing = 0;
// }} ""
// {{ 550 1 0 "f0ad2520_f07e_4a76_b1b851177f3d4277" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 551 1 0 "2eb4f197_e48e_4a24_9df66b5a6258e7a1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SourceLidSequenceStringsArray.ElementAt( Counter -1) == "True")
{
// }} ""
// {{{ 552 1 0 "9e6751ec_a364_4576_831b9b60c7e6ab3f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ItemIndex = TOOLS::IsInArray(SourceStringsArray.ElementAt( Counter -1), LidSequenceList);
// }} ""
// {{ 553 1 0 "5cec4389_03ae_4b1c_a6c17ee2e3a03ce4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (ItemIndex == 0)
{
// }} ""
// {{ 554 1 0 "46ab4737_9079_460f_81ce1c0a6a93d286" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LidSequenceList.AddAsLast(SourceStringsArray.ElementAt( Counter -1));
// }} ""
// {{ 555 1 0 "5cec4389_03ae_4b1c_a6c17ee2e3a03ce4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 556 1 0 "2eb4f197_e48e_4a24_9df66b5a6258e7a1" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 557 1 0 "93292a17_c364_43ca_834387918524aaa9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
cLLD = 1;
// }} ""
// {{ 558 1 0 "3b947545_7899_47e8_a1dce77ca037322f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
FixedHeight = 0;
// }} ""
// {{ 559 1 0 "47b2d92c_db9b_4af8_9fd4362c188747c4" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
LiquidFollowing = 1;
// }} ""
// {{ 560 1 0 "f0ad2520_f07e_4a76_b1b851177f3d4277" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 561 1 0 "73935a6d_99b1_431b_8a0a6346531afd45" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
SourceMix = 0;
// }} ""
// {{ 562 1 0 "d325e3bb_b0d2_4e06_ab468a2e5bdc3d6a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
DestinationMix = 0;
// }} ""
// {{ 563 1 0 "c3f232ae_af53_4a8b_a34ec5eb2ba959e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MixParametersArray.ElementAt( Counter -1) != "No")
{
// }} ""
// {{ 564 1 0 "1bb10cf1_6a85_41c8_85dca3ed318cdced" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
DestinationMix = 10;
// }} ""
// {{ 565 1 0 "c3f232ae_af53_4a8b_a34ec5eb2ba959e0" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 566 1 0 "fb991021_0131_42ff_aea7ad4ea6a10c1f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 567 1 0 "e00dcd61_28b2_4e30_88a399e8d676b558" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 568 1 0 "31106093_324e_4718_b08fb9c98824c937" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 569 1 0 "43f806f7_c405_400f_8fb8265c7a1776de" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
Sequence=DestinationSequencesArray.GetAt(Counter-1);
// }} ""
// {{ 570 1 0 "ec154d96_d7d7_453b_b5653e45efa09493" "{B31F353C-5D80-11d4-A5EB-0050DA737D89}"
Sequence.SetCount(DestinationPositionsArray.ElementAt( Counter -1));
// }} ""
// {{ 571 1 0 "b271dbe9_b8b9_48c0_81aef40891ee0e0d" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
Sequence.SetCurrentPosition(DestinationPositionsArray.ElementAt( Counter -1));
// }} ""
// {{{ 572 1 0 "9e0000e9_6c24_4a38_8b9425437fd0d49e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DestinationLabID = SeqGetLabwareId(Sequence);
// }} ""
// {{{ 573 1 0 "590aad0e_3916_405d_ba2792765fd47e9e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DestinationPosID = SeqGetPositionId(Sequence);
// }} ""
// {{ 574 1 0 "31106093_324e_4718_b08fb9c98824c937" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 575 1 0 "f148563a_30bc_4094_98b93a51880d1aff" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 576 1 0 "aa2af2e9_add7_40ba_b94278fec97e994d" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
Sequence=SourceSequencesArray.GetAt(Counter-1);
// }} ""
// {{ 577 1 0 "a35cba6d_979f_42fb_9fac11687958e41c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SourceTypesArray.ElementAt( Counter -1) != "Plate")
{
// }} ""
// {{ 578 1 0 "c6708f96_b008_4da8_ad2e246f5cee9d67" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
SourcePositionsArray[ Counter -1] = SourcePositionsArray.ElementAt( Counter -1) % 8;
// }} ""
// {{ 579 1 0 "b8509fa8_f299_4866_879de2a63e24357e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SourcePositionsArray.ElementAt( Counter -1) == 0)
{
// }} ""
// {{ 580 1 0 "6a7647e4_7952_48ce_a57421a20bf0748f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
SourcePositionsArray[ Counter -1] = 8;
// }} ""
// {{ 581 1 0 "b8509fa8_f299_4866_879de2a63e24357e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 582 1 0 "a35cba6d_979f_42fb_9fac11687958e41c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 583 1 0 "6b5a5268_a0fc_4849_97848c53b0ceb805" "{B31F353C-5D80-11d4-A5EB-0050DA737D89}"
Sequence.SetCount(SourcePositionsArray.ElementAt( Counter -1));
// }} ""
// {{ 584 1 0 "269cc7e8_44ee_459c_998e3c220449f864" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
Sequence.SetCurrentPosition(SourcePositionsArray.ElementAt( Counter -1));
// }} ""
// {{{ 585 1 0 "dc7b6db7_e7d6_4763_803e0747e4429365" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SourceLabID = SeqGetLabwareId(Sequence);
// }} ""
// {{{ 586 1 0 "cf452f7a_d9fb_4973_b453c3952f29cf81" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SourcePosID = SeqGetPositionId(Sequence);
// }} ""
// {{ 587 1 0 "f148563a_30bc_4094_98b93a51880d1aff" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 588 1 0 "e00dcd61_28b2_4e30_88a399e8d676b558" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 589 1 0 "44cffe51_94bd_46a0_a0a5638a8dfc06a0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 590 1 0 "0939a1e5_5b0f_4c78_b592fa7b0199c583" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransferVolumesArray.ElementAt( Counter -1) <= 50)
{
// }} ""
// {{{ 591 1 0 "b08b246f_3ce4_43ee_b53f16b46004291a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(DispenseSequence50, DestinationLabID, DestinationPosID);
// }} ""
// {{{ 592 1 0 "72b433c4_b338_472a_bc5773581c4fce77" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(AspirateSequence50, SourceLabID, SourcePosID);
// }} ""
// {{ 593 1 0 "d5775c2d_a9a4_4dcb_b19aa3dab26f09de" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
cLLD50.AddAsLast(cLLD);
// }} ""
// {{ 594 1 0 "f20ddf68_faba_4b08_96e8f8ab01936155" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
FixedHeight50.AddAsLast(FixedHeight);
// }} ""
// {{ 595 1 0 "eb8bd4ac_912d_432f_a6701d7d334180d4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightWithOffset = DestinationDispenseHeightsArray.ElementAt( Counter -1) + DestinationPipettingOffset;
// }} ""
// {{ 596 1 0 "18f32c17_9856_4e79_825055b697922b85" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DispenseHeight50.AddAsLast(DispenseHeightWithOffset);
// }} ""
// {{ 597 1 0 "3eea7136_6907_47be_b6d94e8bff975e01" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidFollowing50.AddAsLast(LiquidFollowing);
// }} ""
// {{ 598 1 0 "1dedd6ad_0766_4c33_9535ff90fec3baca" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
TransferVolume50.AddAsLast(TransferVolumesArray.ElementAt( Counter -1));
// }} ""
// {{ 599 1 0 "735aaf37_b0af_42b7_b1a1f91c9a051166" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MixVolume > 66)
{
// }} ""
// {{ 600 1 0 "fee2c902_b0e4_42a1_a8a86eda236e21f6" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = 50;
// }} ""
// {{ 601 1 0 "735aaf37_b0af_42b7_b1a1f91c9a051166" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 602 1 0 "0c594296_88c7_4cb2_bb6aad3130d2e6c1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = MixVolume * 0.75;
// }} ""
// {{ 603 1 0 "735aaf37_b0af_42b7_b1a1f91c9a051166" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 604 1 0 "b7f2f2bb_6cef_4ffa_97b62680c6d6e8e4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMixVolume50.AddAsLast(MixVolume);
// }} ""
// {{ 605 1 0 "10857fac_a332_4a36_8a3c475c1807969e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMix50.AddAsLast(DestinationMix);
// }} ""
// {{ 606 1 0 "eda44ce6_7c15_4c67_b5486c94f3439ecf" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMixVolume50.AddAsLast(0);
// }} ""
// {{ 607 1 0 "87fc574c_3675_45e2_90625670dea9fc39" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMix50.AddAsLast(0);
// }} ""
// {{ 608 1 0 "a069b77d_a6c8_454e_a960bb4df2094df3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidClass50.AddAsLast(LiquidClassesArray.ElementAt( Counter -1));
// }} ""
// {{ 609 1 0 "d6068b3c_7add_4000_b23ceb63c5354286" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence50 = TipSequenceStringsArray.ElementAt( Counter -1);
// }} ""
// {{ 610 1 0 "0939a1e5_5b0f_4c78_b592fa7b0199c583" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 611 1 0 "3a8f2968_472f_43b2_91ddaac8a7217a8f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransferVolumesArray.ElementAt( Counter -1) <= 300)
{
// }} ""
// {{{ 612 1 0 "724114a7_d8c6_4fdd_b62dba12afa9f006" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(DispenseSequence300, DestinationLabID, DestinationPosID);
// }} ""
// {{{ 613 1 0 "4d97a2f4_01a9_4682_b0eace1ef2f51f44" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(AspirateSequence300, SourceLabID, SourcePosID);
// }} ""
// {{ 614 1 0 "4b2d52f1_e666_4bd1_aaba25a0bdc2fc37" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
cLLD300.AddAsLast(cLLD);
// }} ""
// {{ 615 1 0 "04be468e_d7b2_4e92_8c2b8e0912671837" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
FixedHeight300.AddAsLast(FixedHeight);
// }} ""
// {{ 616 1 0 "16c22b9c_ffbd_4f8e_8800c2f59d786149" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightWithOffset = DestinationDispenseHeightsArray.ElementAt( Counter -1) + DestinationPipettingOffset;
// }} ""
// {{ 617 1 0 "2ef7d19e_9340_452b_8223e72c90053ad7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DispenseHeight300.AddAsLast(DispenseHeightWithOffset);
// }} ""
// {{ 618 1 0 "96def529_2e66_460a_8a412a65cecbaa65" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidFollowing300.AddAsLast(LiquidFollowing);
// }} ""
// {{ 619 1 0 "b480bd40_a6f7_47f9_a5d91abea2005f80" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
TransferVolume300.AddAsLast(TransferVolumesArray.ElementAt( Counter -1));
// }} ""
// {{ 620 1 0 "f345c768_5259_4c92_9db4847f8de7def3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MixVolume > 395)
{
// }} ""
// {{ 621 1 0 "0c70315c_cca8_4a7e_9bfb1f5ea059b4f2" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = 300;
// }} ""
// {{ 622 1 0 "f345c768_5259_4c92_9db4847f8de7def3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 623 1 0 "c59fe7e2_96e1_4ba7_ab1462e6746cabf0" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = MixVolume * 0.75;
// }} ""
// {{ 624 1 0 "f345c768_5259_4c92_9db4847f8de7def3" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 625 1 0 "4b8c4ae6_8244_4e27_a6780af010e72ad7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMixVolume300.AddAsLast(MixVolume);
// }} ""
// {{ 626 1 0 "3d91a809_a14c_4951_8d8596a1d24fd283" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMix300.AddAsLast(DestinationMix);
// }} ""
// {{ 627 1 0 "a513ead5_4a4a_481c_a1f2dd2f4311a0ad" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMixVolume300.AddAsLast(0);
// }} ""
// {{ 628 1 0 "f4a36528_6433_4a6b_9c7f37a64ffbd0f6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMix300.AddAsLast(0);
// }} ""
// {{ 629 1 0 "be9270c9_ae73_4cb5_98624393a7627dfe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidClass300.AddAsLast(LiquidClassesArray.ElementAt( Counter -1));
// }} ""
// {{ 630 1 0 "02208a0a_3952_4168_a6d1092c57f18f62" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence300 = TipSequenceStringsArray.ElementAt( Counter -1);
// }} ""
// {{ 631 1 0 "3a8f2968_472f_43b2_91ddaac8a7217a8f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 632 1 0 "662b274d_34d0_49c0_a6b5cfa76b154e93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransferVolumesArray.ElementAt( Counter -1) <= 1000)
{
// }} ""
// {{{ 633 1 0 "118fcf05_7c44_490d_9fa78670fb34ef27" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(DispenseSequence1000, DestinationLabID, DestinationPosID);
// }} ""
// {{{ 634 1 0 "2e4665e1_b804_4888_b2cf880c5f6d573a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(AspirateSequence1000, SourceLabID, SourcePosID);
// }} ""
// {{ 635 1 0 "06d81ee7_59a1_42a9_9bfc499394d62685" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
cLLD1000.AddAsLast(cLLD);
// }} ""
// {{ 636 1 0 "8d562d12_eb26_430e_88891c3572548788" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
FixedHeight1000.AddAsLast(FixedHeight);
// }} ""
// {{ 637 1 0 "67e98bdd_e653_4564_afbd3e2840f79a4d" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightWithOffset = DestinationDispenseHeightsArray.ElementAt( Counter -1) + DestinationPipettingOffset;
// }} ""
// {{ 638 1 0 "72440643_a8bf_4984_b8a71554d5a507e0" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DispenseHeight1000.AddAsLast(DispenseHeightWithOffset);
// }} ""
// {{ 639 1 0 "97438c05_daa7_4146_ab221ef648dfa8c3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidFollowing1000.AddAsLast(LiquidFollowing);
// }} ""
// {{ 640 1 0 "faef3841_0596_4a4f_9528f48e9846475d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
TransferVolume1000.AddAsLast(TransferVolumesArray.ElementAt( Counter -1));
// }} ""
// {{ 641 1 0 "128ce741_a051_4f70_97493a39d5db32d9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MixVolume > 1333)
{
// }} ""
// {{ 642 1 0 "d63b85d7_3b88_4a33_81fd10bcdd588e37" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = 1000;
// }} ""
// {{ 643 1 0 "128ce741_a051_4f70_97493a39d5db32d9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 644 1 0 "6582b7be_1817_450a_8c30b5fcc43cc184" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = MixVolume * 0.75;
// }} ""
// {{ 645 1 0 "128ce741_a051_4f70_97493a39d5db32d9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 646 1 0 "5a7b5a9e_e052_40b8_ad1a5c9ec92a6e76" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMixVolume1000.AddAsLast(MixVolume);
// }} ""
// {{ 647 1 0 "fd146ebe_dd1b_4089_8a95299cf2c6e419" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMix1000.AddAsLast(DestinationMix);
// }} ""
// {{ 648 1 0 "5dcb6c10_9883_443d_9fc689717231f576" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMixVolume1000.AddAsLast(0);
// }} ""
// {{ 649 1 0 "ae0e05e4_0abe_4df0_ab867eb8805868ef" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMix1000.AddAsLast(0);
// }} ""
// {{ 650 1 0 "bff985f6_88f4_4378_a2d6d8477f57ef27" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidClass1000.AddAsLast(LiquidClassesArray.ElementAt( Counter -1));
// }} ""
// {{ 651 1 0 "48c476c0_01c8_45a7_a7be727a2adb281b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence1000 = TipSequenceStringsArray.ElementAt( Counter -1);
// }} ""
// {{ 652 1 0 "662b274d_34d0_49c0_a6b5cfa76b154e93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 653 1 0 "1b0b1187_8e64_4146_b42a81773bf6ff69" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TransfersRequired = TransferVolumesArray.ElementAt( Counter -1) / (1000 * 1.0);
// }} ""
// {{{ 654 1 0 "eb50b586_a3a8_4ddc_8d7cb99d49d9e721" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TransfersRequired = StrFStr(TransfersRequired);
// }} ""
// {{{ 655 1 0 "1ebae5f9_9932_4d41_a6e935fc5ed99302" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TransfersRequired = StrIVal(TransfersRequired);
// }} ""
// {{ 656 1 0 "73eb130e_2f36_4b53_9a90473912e71bad" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TransfersRequired = TransfersRequired + 1;
// }} ""
// {{ 657 1 0 "782c11a6_8938_4e19_ae47fc9697b98ff4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TransferVolumesArray[ Counter -1] = TransferVolumesArray.ElementAt( Counter -1) / (TransfersRequired * 1.0);
// }} ""
// {{ 658 1 0 "0efa2d7f_7a4e_422b_b9cdcb0bff66aac7" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightDifference = DestinationFinalDispenseHeightsArray.ElementAt( Counter -1) - DestinationDispenseHeightsArray.ElementAt( Counter -1);
// }} ""
// {{ 659 1 0 "5fa348ef_1f5d_4463_a9cc1dbdcb6f13b1" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightStep = DispenseHeightDifference / (TransfersRequired * 1.0);
// }} ""
// {{ 660 1 0 "41eb2f80_ebbb_4bba_b39fbca166483d5f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeight = DestinationDispenseHeightsArray.ElementAt( Counter -1);
// }} ""
// {{ 661 1 0 "53c37a6e_2dec_43ca_b97d59f859b750d9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < TransfersRequired;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{{ 662 1 0 "0b3ee717_0780_4912_bf6d1dcb9299c004" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(DispenseSequence1000, DestinationLabID, DestinationPosID);
// }} ""
// {{{ 663 1 0 "21ee7f20_ad20_4bee_84dbcf2b569beea2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(AspirateSequence1000, SourceLabID, SourcePosID);
// }} ""
// {{ 664 1 0 "dcdac04d_bf73_40ea_842371e07452cbfd" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
cLLD1000.AddAsLast(cLLD);
// }} ""
// {{ 665 1 0 "86825b05_ffbe_4fc8_a14262a3f16dbb85" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
FixedHeight1000.AddAsLast(FixedHeight);
// }} ""
// {{ 666 1 0 "4535f348_b489_4dd8_a316401079df6add" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeightWithOffset = DispenseHeight + DestinationPipettingOffset;
// }} ""
// {{ 667 1 0 "0a4fdf27_bd09_4b9d_bdddcc7cdaeea9fe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DispenseHeight1000.AddAsLast(DispenseHeightWithOffset);
// }} ""
// {{ 668 1 0 "830040ea_961b_47b4_a5a9d68521ba1f9f" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
DispenseHeight = DispenseHeight + DispenseHeightStep;
// }} ""
// {{ 669 1 0 "53b077db_7fff_47ff_a3aa62e1bf0ebba3" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidFollowing1000.AddAsLast(LiquidFollowing);
// }} ""
// {{ 670 1 0 "def47e61_cc5b_4326_858e63ef9cd0dcbe" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
TransferVolume1000.AddAsLast(TransferVolumesArray.ElementAt( Counter -1));
// }} ""
// {{ 671 1 0 "bfc9c3df_563f_4693_9bbbab97ddb45413" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MixVolume > 1333)
{
// }} ""
// {{ 672 1 0 "6a794fce_e075_4e3e_b75dcd607a838add" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = 1000;
// }} ""
// {{ 673 1 0 "bfc9c3df_563f_4693_9bbbab97ddb45413" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 674 1 0 "a76f15fa_687d_4a92_86124e215d33393b" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
MixVolume = MixVolume * 0.75;
// }} ""
// {{ 675 1 0 "bfc9c3df_563f_4693_9bbbab97ddb45413" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 676 1 0 "a9b759ed_ab47_4989_95c9a81c56c716bc" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMixVolume1000.AddAsLast(MixVolume);
// }} ""
// {{ 677 1 0 "c8a99c65_f53b_4e95_bcc09ecec1ed968f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransfersRequired == Counter2)
{
// }} ""
// {{ 678 1 0 "67103268_5c5b_4024_bcd1a26643f0bdd2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMix1000.AddAsLast(DestinationMix);
// }} ""
// {{ 679 1 0 "c8a99c65_f53b_4e95_bcc09ecec1ed968f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 680 1 0 "fdeb1a8b_6578_4e2e_b27e441314183ad4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
DestinationMix1000.AddAsLast(0);
// }} ""
// {{ 681 1 0 "c8a99c65_f53b_4e95_bcc09ecec1ed968f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 682 1 0 "410d1e24_e174_4580_83eabdd67424971c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMixVolume1000.AddAsLast(0);
// }} ""
// {{ 683 1 0 "b9587040_562f_4de7_a2f03f65ed3eb89b" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
SourceMix1000.AddAsLast(0);
// }} ""
// {{ 684 1 0 "0a1fefa1_b079_4223_82f22a1fff38b183" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
LiquidClass1000.AddAsLast(LiquidClassesArray.ElementAt( Counter -1));
// }} ""
// {{ 685 1 0 "a8a63308_4b18_4ef5_b03fefa128f0fd2d" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipSequence1000 = TipSequenceStringsArray.ElementAt( Counter -1);
// }} ""
// {{ 686 1 0 "53c37a6e_2dec_43ca_b97d59f859b750d9" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 687 1 0 "662b274d_34d0_49c0_a6b5cfa76b154e93" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 688 1 0 "3a8f2968_472f_43b2_91ddaac8a7217a8f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 689 1 0 "0939a1e5_5b0f_4c78_b592fa7b0199c583" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 690 1 0 "44cffe51_94bd_46a0_a0a5638a8dfc06a0" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 691 1 0 "23e4e347_6974_4aa8_b0e1b83faff3c8a8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 692 1 0 "9f9d0d22_69c7_4546_9d57753d7e3d2cd3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 693 1 0 "a35ff901_3372_433e_bd0bd96cdcec7f8b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 694 1 0 "d21df41b_c07a_4fd8_95359a9dd58a4f8e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
FlipTubeToolSequenceString = PIPETTE_CONFIG::GetFlipTubeToolSequenceString();
// }} ""
// {{{ 695 1 0 "f0a3babb_dbfb_4b9a_a63682b8388a2a79" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, FlipTubeToolSequenceString, FlipTubeToolSequence);
// }} ""
// {{{ 696 1 0 "2811de80_a764_432d_a277106af011347a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
CoreGripToolSequenceString = PIPETTE_CONFIG::GetCoreGripToolSequenceString();
// }} ""
// {{{ 697 1 0 "ab425c28_9fa7_4856_a02a4f10b8a4ba68" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, CoreGripToolSequenceString, CoreGripToolSequence);
// }} ""
// {{{ 698 1 0 "260d6ee1_6f10_4634_95f0f12d22811c0f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceStrings(TipSequenceStrings);
// }} ""
// {{{ 699 1 0 "17410566_7354_4b23_a415e10cca9fce47" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceVolumes(TipSequenceVolumes);
// }} ""
// {{{ 700 1 0 "8b6d9d16_dc7c_46ec_96d5bd4135933d72" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceTypes(TipSequenceTypes);
// }} ""
// {{ 701 1 0 "a35ff901_3372_433e_bd0bd96cdcec7f8b" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 702 1 0 "f59d5c47_39dc_4779_b0e261a09949718c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 703 1 0 "c0be619a_ac10_4600_ba4c59aabe53eda4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
LABWARE::GetPlateSequenceString(LidSequenceList, OutputLidSequenceList);
// }} ""
// {{ 704 1 0 "f59d5c47_39dc_4779_b0e261a09949718c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 705 1 0 "1899cf79_2d43_45c5_8f0df57ac983d140" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 706 1 0 "bbafe946_167b_498c_97a1b814749998c4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumLids=OutputLidSequenceList.GetSize();
// }} ""
// {{ 707 1 0 "1c418fb1_0f9f_4435_86346c5d4ea165be" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumLids != 0)
{
// }} ""
// {{{ 708 1 0 "f14fe3a6_bdd5_48cb_a9ad51fa8d9c88bb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsPickUp(Translate("10000000"), FlipTubeToolSequence);
// }} ""
// {{ 709 1 0 "aabf8cf2_b954_4e05_922eb450f9b106d4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumLids;)
{
Counter = Counter + 1;
// }} ""
// {{{ 710 1 0 "3f5249bd_f9a6_41d5_b50d9fc70a185476" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(OutputLidSequenceList.ElementAt( Counter -1), Translate(""));
// }} ""
// {{{ 711 1 0 "b2f1310d_c5be_42b8_86e99569d97a071c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, OutputLidSequenceList.ElementAt( Counter -1), Sequence);
// }} ""
// {{{ 712 1 0 "7b929827_a05b_4fb7_b83bbd231be66732" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Flip_Tube_Functions(2, FlipTubeToolSequence, Sequence, Translate("10000000"), 0, 0, ML_STAR);
// }} ""
// {{ 713 1 0 "aabf8cf2_b954_4e05_922eb450f9b106d4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 714 1 0 "ae41dd5d_30b4_4535_9342cfa026d0e1b7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsEject(FlipTubeToolSequence);
// }} ""
// {{ 715 1 0 "1c418fb1_0f9f_4435_86346c5d4ea165be" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 716 1 0 "1899cf79_2d43_45c5_8f0df57ac983d140" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 717 1 0 "5199e433_c821_48e1_be76d9fe9d8e3a24" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 718 1 0 "293d4e02_8d1a_482c_a27f9c082f46c704" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SequenceSize = SeqGetTotal(DispenseSequence50);
// }} ""
// {{ 719 1 0 "dd38cc2e_55e8_417e_880bdb25d3ff9a60" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SequenceSize > 0)
{
// }} ""
// {{{ 720 1 0 "46ceb045_9e3c_41e7_9ea944c3fa391e3d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequence50, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 721 1 0 "e5c737f1_633f_4bf6_9a0e9ef0b70282bc" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipType = _MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( TrackedIndex -1);
// }} ""
// {{{ 722 1 0 "e61b4207_ecc1_4eb9_858410270da30129" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(_MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( TrackedIndex -1), Translate(""));
// }} ""
// {{{ 723 1 0 "5fbe6bb9_077d_49a5_ab226599cc308fe4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, TipSequence50, TipSequence);
// }} ""
// {{ 724 1 0 "dd38cc2e_55e8_417e_880bdb25d3ff9a60" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 725 1 0 "c5fb3e47_e0bf_4ec8_926775ed54cc5ddd" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(DispenseSequence50, 1, SequenceSize);
// }} ""
// {{{ 726 1 0 "72d5f1e1_3e9b_40a0_af4348861967e73b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(AspirateSequence50, 1, SequenceSize);
// }} ""
// {{ 727 1 0 "967cd719_0fe7_4cfb_a861848a1153a4dd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter11 = 0;
while (
   (DispenseSequence50.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, TipSequence, 1, AspirateSequence50, 1, DispenseSequence50, 1);
loopCounter11 = loopCounter11 + 1;
// }} ""
// {{{ 728 1 0 "30c1e1fe_3914_442d_9041539f16fdcc4b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Index = PFIZERTOOLSVCURRENT::GetIndex(1, DispenseSequence50);
// }} ""
// {{ 729 1 0 "ab0c37a3_336f_48e5_89b5fd8a2996150d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "NTR")
{
// }} ""
// {{{ 730 1 0 "eaa59149_1755_4058_9b9246decf8270ab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.ElementAt( TrackedIndex -1), wasteNTR);
// }} ""
// {{{ 731 1 0 "7b983bcb_b332_4ecf_bbd14abd4029491a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY::Channels_TipCounter_Write(ML_STAR, TipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( TrackedIndex -1), wasteNTR, CoreGripToolSequence, 1, 1, 0, TipSequence, 0, 8, 0, 1, Translate("Please Reload 50 NTR Tips"), 1);
// }} ""
// {{ 732 1 0 "ab0c37a3_336f_48e5_89b5fd8a2996150d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 733 1 0 "1387640b_88db_4c35_be078166358244c3" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("1387640b_88db_4c35_be078166358244c3"); // TipPickUp
}
// }} ""
// {{ 734 1 0 "f27e2b88_987e_4281_8ded4eb91fcb0cfc" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("f27e2b88_987e_4281_8ded4eb91fcb0cfc"); // Aspirate
}
// }} ""
// {{ 735 1 0 "7693f092_dbbd_488a_94a05c040aef4b89" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("7693f092_dbbd_488a_94a05c040aef4b89"); // Dispense
}
// }} ""
// {{ 736 1 0 "09d9f700_6dda_47cc_b93bec1fa4301861" "ML_STAR:{541143FC-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FC_7FA2_11D3_AD85_0004ACB1DCB2("09d9f700_6dda_47cc_b93bec1fa4301861"); // TipEject
}
// }} ""
// {{ 737 1 0 "967cd719_0fe7_4cfb_a861848a1153a4dd" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (DispenseSequence50.GetCurrentPosition() > 0 && DispenseSequence50.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
TipSequence.SetMax(TipSequence.GetTotal());
AspirateSequence50.SetMax(AspirateSequence50.GetTotal());
DispenseSequence50.SetMax(DispenseSequence50.GetTotal());
AspirateSequence50.SetCurrentPosition(1);
DispenseSequence50.SetCurrentPosition(1);
}
// }} ""
// {{ 738 1 0 "5199e433_c821_48e1_be76d9fe9d8e3a24" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 739 1 0 "49698bfa_1d1a_48de_9cc6c3cae63d1719" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 740 1 0 "20d945ce_3a89_4326_91c2d6efd545b64f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SequenceSize = SeqGetTotal(DispenseSequence300);
// }} ""
// {{ 741 1 0 "a03aa2fa_0405_4369_9d60905c22313710" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SequenceSize > 0)
{
// }} ""
// {{{ 742 1 0 "0cdd096a_629b_45e3_bf787315bfcfb508" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequence300, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 743 1 0 "7accba7e_5ae1_459f_8acc144681c63980" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipType = _MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( TrackedIndex -1);
// }} ""
// {{{ 744 1 0 "faea615d_fc63_474f_9335d1b690070f3d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(_MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( TrackedIndex -1), Translate(""));
// }} ""
// {{{ 745 1 0 "8c2cd15a_26a4_486d_aeac94a1a7fc36e3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, TipSequence300, TipSequence);
// }} ""
// {{ 746 1 0 "a03aa2fa_0405_4369_9d60905c22313710" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 747 1 0 "9ba7742e_dcb5_4f35_b81fa2ec2420c484" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(DispenseSequence300, 1, SequenceSize);
// }} ""
// {{{ 748 1 0 "bbbfed75_e388_405b_b4eaf4e284354ed3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(AspirateSequence300, 1, SequenceSize);
// }} ""
// {{ 749 1 0 "29620aca_2ff0_43da_b072c8ff5bdddf2d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter11 = 0;
while (
   (DispenseSequence300.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, AspirateSequence300, 1, DispenseSequence300, 1, TipSequence, 1);
loopCounter11 = loopCounter11 + 1;
// }} ""
// {{{ 750 1 0 "4f4d7eb4_baf6_4767_9f4271f373109453" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Index = PFIZERTOOLSVCURRENT::GetIndex(1, DispenseSequence300);
// }} ""
// {{ 751 1 0 "69373b9f_f94e_4db2_aa4fc64c364cb3e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "NTR")
{
// }} ""
// {{{ 752 1 0 "1bfd1000_168a_4801_a6f466540cc64c7a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.ElementAt( TrackedIndex -1), wasteNTR);
// }} ""
// {{{ 753 1 0 "2d2a280a_d682_4485_aa6837269b55f876" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY::Channels_TipCounter_Write(ML_STAR, TipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( TrackedIndex -1), wasteNTR, CoreGripToolSequence, 1, 1, 0, TipSequence, 0, 8, 0, 1, Translate("Please Reload 300 NTR Tips"), 1);
// }} ""
// {{ 754 1 0 "69373b9f_f94e_4db2_aa4fc64c364cb3e6" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 755 1 0 "c6097fdf_ea7d_4b6e_9c93bf3f9d16c7a9" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("c6097fdf_ea7d_4b6e_9c93bf3f9d16c7a9"); // TipPickUp
}
// }} ""
// {{ 756 1 0 "4f6eb337_96fe_4cd1_82aaf016914946ea" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("4f6eb337_96fe_4cd1_82aaf016914946ea"); // Aspirate
}
// }} ""
// {{ 757 1 0 "f19f56ba_a241_47cc_87bf5583ca25386c" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("f19f56ba_a241_47cc_87bf5583ca25386c"); // Dispense
}
// }} ""
// {{ 758 1 0 "54b7423f_abdd_4eb9_88d433846f5e3be6" "ML_STAR:{541143FC-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FC_7FA2_11D3_AD85_0004ACB1DCB2("54b7423f_abdd_4eb9_88d433846f5e3be6"); // TipEject
}
// }} ""
// {{ 759 1 0 "29620aca_2ff0_43da_b072c8ff5bdddf2d" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (DispenseSequence300.GetCurrentPosition() > 0 && DispenseSequence300.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
AspirateSequence300.SetMax(AspirateSequence300.GetTotal());
DispenseSequence300.SetMax(DispenseSequence300.GetTotal());
TipSequence.SetMax(TipSequence.GetTotal());
AspirateSequence300.SetCurrentPosition(1);
DispenseSequence300.SetCurrentPosition(1);
}
// }} ""
// {{ 760 1 0 "49698bfa_1d1a_48de_9cc6c3cae63d1719" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 761 1 0 "acca07e8_6cb5_48ba_b0d937264fc86c0c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 762 1 0 "c9ab460c_daa9_4768_8c99e91742f4d669" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SequenceSize = SeqGetTotal(DispenseSequence1000);
// }} ""
// {{ 763 1 0 "54cf1983_ed75_4493_b7b7fc0b85672b58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (SequenceSize > 0)
{
// }} ""
// {{{ 764 1 0 "cf6820b8_e0aa_4313_b8e435f4329a9711" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequence1000, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 765 1 0 "3fee9c26_7659_42ef_969eb7f58fd8b36a" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipType = _MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( TrackedIndex -1);
// }} ""
// {{{ 766 1 0 "e45628f2_8205_4f4d_a0972b4143a2192d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Trash = DevGetSequenceRef(ML_STAR, TipSequence1000, TipSequence);
// }} ""
// {{ 767 1 0 "54cf1983_ed75_4493_b7b7fc0b85672b58" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 768 1 0 "573f6203_ef32_4d66_95ed89abb415af78" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(DispenseSequence1000, 1, SequenceSize);
// }} ""
// {{{ 769 1 0 "506ae65c_a6d7_4189_b3ec5360f0877af1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PFIZERTOOLSVCURRENT::SetSequence(AspirateSequence1000, 1, SequenceSize);
// }} ""
// {{ 770 1 0 "82ce5b4c_e2f8_44c7_b4123af517a5ea77" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter11 = 0;
while (
   (DispenseSequence1000.GetCurrentPosition() > 0)
)
{
AlignSequences(hslTrue, AspirateSequence1000, 1, DispenseSequence1000, 1, TipSequence, 1);
loopCounter11 = loopCounter11 + 1;
// }} ""
// {{{ 771 1 0 "b6395d77_ecba_4a4c_8bcf726aed83ed6f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Index = PFIZERTOOLSVCURRENT::GetIndex(1, DispenseSequence1000);
// }} ""
// {{ 772 1 0 "6eaecabe_2e95_49c3_9de6636f0e6cf3ba" "ML_STAR:{541143FA-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FA_7FA2_11D3_AD85_0004ACB1DCB2("6eaecabe_2e95_49c3_9de6636f0e6cf3ba"); // TipPickUp
}
// }} ""
// {{ 773 1 0 "bfc59777_44a9_4c6c_a16b9c68e16d220f" "ML_STAR:{541143F5-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F5_7FA2_11D3_AD85_0004ACB1DCB2("bfc59777_44a9_4c6c_a16b9c68e16d220f"); // Aspirate
}
// }} ""
// {{ 774 1 0 "b6d50418_50f2_4653_ac6789c1dd1b57f3" "ML_STAR:{541143F8-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143F8_7FA2_11D3_AD85_0004ACB1DCB2("b6d50418_50f2_4653_ac6789c1dd1b57f3"); // Dispense
}
// }} ""
// {{ 775 1 0 "dcfd7714_d98b_4465_b0f2d10c2918da00" "ML_STAR:{541143FC-7FA2-11D3-AD85-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._541143FC_7FA2_11D3_AD85_0004ACB1DCB2("dcfd7714_d98b_4465_b0f2d10c2918da00"); // TipEject
}
// }} ""
// {{ 776 1 0 "82ce5b4c_e2f8_44c7_b4123af517a5ea77" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
if (
   (DispenseSequence1000.GetCurrentPosition() > 0 && DispenseSequence1000.GetMax() == 0 )
)
{ MECC::EndlessSequenceLoopWarning(GetFileName()); }

}
AspirateSequence1000.SetMax(AspirateSequence1000.GetTotal());
DispenseSequence1000.SetMax(DispenseSequence1000.GetTotal());
TipSequence.SetMax(TipSequence.GetTotal());
AspirateSequence1000.SetCurrentPosition(1);
DispenseSequence1000.SetCurrentPosition(1);
}
// }} ""
// {{ 777 1 0 "acca07e8_6cb5_48ba_b0d937264fc86c0c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 778 1 0 "c74da42b_60ae_4f5f_ad29d1cdcc116fe5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 779 1 0 "e78df527_9119_4105_81661cfd662c615f" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumLids=OutputLidSequenceList.GetSize();
// }} ""
// {{ 780 1 0 "f09b3564_58af_4b0e_8726c48547bb4001" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumLids != 0)
{
// }} ""
// {{{ 781 1 0 "917e2920_74f2_404b_98db5cdf093b7831" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsPickUp(Translate("10000000"), FlipTubeToolSequence);
// }} ""
// {{ 782 1 0 "55c55439_6a05_4d88_8aa14283489eb83a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumLids;)
{
Counter = Counter + 1;
// }} ""
// {{{ 783 1 0 "1033bc57_f20c_4e2d_bc7a249b8551d531" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Storage = StrFind(SourcePlateLoadingLocationsArray.ElementAt( Counter -1), Translate("E"));
// }} ""
// {{{ 784 1 0 "c5cbf722_a801_4f28_b440515102a8591f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, OutputLidSequenceList.ElementAt( Counter -1), Sequence);
// }} ""
// {{ 785 1 0 "335fc1da_108e_4cc3_9f65b274bb55845f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Storage == -1)
{
// }} ""
// {{{ 786 1 0 "8e0656e3_8e26_4c2c_a0532ced549dbd4b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Flip_Tube_Functions(3, FlipTubeToolSequence, Sequence, Translate("10000000"), 0, 0, ML_STAR);
// }} ""
// {{ 787 1 0 "335fc1da_108e_4cc3_9f65b274bb55845f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 788 1 0 "ccf75005_779e_4435_a3e501ac2f85618a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Flip_Tube_Functions(4, FlipTubeToolSequence, Sequence, Translate("10000000"), 0, 0, ML_STAR);
// }} ""
// {{ 789 1 0 "335fc1da_108e_4cc3_9f65b274bb55845f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 790 1 0 "55c55439_6a05_4d88_8aa14283489eb83a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 791 1 0 "a162d41a_8bc3_40c2_b4e18e01eece11a2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsEject(FlipTubeToolSequence);
// }} ""
// {{ 792 1 0 "f09b3564_58af_4b0e_8726c48547bb4001" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 793 1 0 "c74da42b_60ae_4f5f_ad29d1cdcc116fe5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 794 1 0 "9f9d0d22_69c7_4546_9d57753d7e3d2cd3" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 795 1 0 "fe8ae8cd_162d_4f7c_9c0c11fc70e85ee5" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessNoErrors();
// }} ""
// {{{ 796 1 0 "af4915c2_154e_476e_a977a474ec5321ec" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Liquid Transfer always succeeds"), Translate(""), Translate(""));
// }} ""
// {{{ 797 1 0 "83784ddc_0a34_4332_a5e0cfe99db5ced3" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "TransferLiquid" "End"
}
// }} ""
// {{{ 5 "Flip_Tube_Functions" "Begin"
private function Flip_Tube_Functions( variable int_FlipTubeFunction, sequence & seq_FlipTubeTool, sequence & seq_TubeSequence, variable str_ChannelPattern, variable var_PickUpTool, variable var_EjectTool, device & ML_STAR ) void {
// }} ""
private variable ret_TipToolError;
// {{ 5 "Flip_Tube_Functions" "InitLocals"
// }} ""
// {{ 234 1 0 "de120b6a_01c4_4029_a35094495633ada4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 235 1 0 "844c8294_ad49_4e75_9e00727947869524" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_FlipTubeFunction == 1)
{
// }} ""
// {{ 236 1 0 "e9577d9c_26e5_4b72_a957d8a9aefe231b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=====================\nInitialize Fliptool\n====================="));
// }} ""
// {{{ 237 1 0 "33bb967f_6de0_46ef_9b3c1dc4caacc5b5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::Initialize(0);
// }} ""
// {{ 238 1 0 "844c8294_ad49_4e75_9e00727947869524" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 239 1 0 "de120b6a_01c4_4029_a35094495633ada4" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 240 1 0 "e3f81ce1_b42c_49e7_93044f54bbd670a5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 241 1 0 "35505200_515c_4e36_a4a4abe580502022" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_FlipTubeFunction == 2)
{
// }} ""
// {{ 242 1 0 "28635e75_7ff6_4482_b0bc109762046a64" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=====================\nOpen Fliptubes\n====================="));
// }} ""
// {{ 243 1 0 "0e49382d_b947_4ade_83f79fd3347a2269" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_PickUpTool == 1)
{
// }} ""
// {{{ 244 1 0 "71bcda6f_a631_4390_a520e12c5be0be0d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsPickUp(str_ChannelPattern, seq_FlipTubeTool);
// }} ""
// {{ 245 1 0 "0e49382d_b947_4ade_83f79fd3347a2269" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 246 1 0 "3f347e95_3131_41bc_a68edec70e29f279" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ret_TipToolError = FLIPTUBETOOL::FlipTubeOpen(seq_TubeSequence, 0, str_ChannelPattern);
// }} ""
// {{ 247 1 0 "1c6824c3_7a3b_4fa2_a348c7d76b383cd5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (ret_TipToolError == 0)
{
// }} ""
// {{{ 248 1 0 "597ed062_2d6d_453c_b6f3bd461fe4ac74" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Translate("***Error*** Flip Tube Open Error, Will Not Abort"), Translate("Extra Step to aid in open will commence"));
// }} ""
// {{ 249 1 0 "1c6824c3_7a3b_4fa2_a348c7d76b383cd5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 250 1 0 "73569c24_5766_46b2_827a37d0ec539385" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VIRTUALLABWARE_V2::MoveSeq(ML_STAR, seq_TubeSequence, 12, 0, 0);
// }} ""
// {{ 251 1 0 "2abec4b3_92c2_43e9_9f72d2f002923ad8" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("2abec4b3_92c2_43e9_9f72d2f002923ad8"); // MoveToPosition
}
// }} ""
// {{ 252 1 0 "d62f0612_9750_4ce8_961a37e28cafd5ea" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("d62f0612_9750_4ce8_961a37e28cafd5ea"); // MoveToPosition
}
// }} ""
// {{{ 253 1 0 "24581195_6d05_4bf6_b7e51ff98186dd0d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VIRTUALLABWARE_V2::MoveSeq(ML_STAR, seq_TubeSequence, -12, 0, 0);
// }} ""
// {{ 254 1 0 "b9ec6d39_c65b_461e_88ae0c560ca64bd9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_EjectTool == 1)
{
// }} ""
// {{{ 255 1 0 "89bf3a13_0b0b_4ade_9269d9c46af49fc7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsEject(seq_FlipTubeTool);
// }} ""
// {{ 256 1 0 "b9ec6d39_c65b_461e_88ae0c560ca64bd9" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 257 1 0 "35505200_515c_4e36_a4a4abe580502022" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 258 1 0 "e3f81ce1_b42c_49e7_93044f54bbd670a5" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 259 1 0 "dbcaedc6_7da1_4480_a672a49963dee072" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 260 1 0 "55f8dd53_23ea_4582_aeac847422bba018" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_FlipTubeFunction == 3)
{
// }} ""
// {{ 261 1 0 "f682f06c_605c_4287_b8a5cc98c5ce5cb6" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=====================\nClose Fliptubes Fliptubes\n====================="));
// }} ""
// {{ 262 1 0 "ee26d568_b7e0_4d1a_849877464ec1fe3b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_PickUpTool == 1)
{
// }} ""
// {{{ 263 1 0 "d31c03fe_1271_46de_b608a6fd61f49d06" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsPickUp(str_ChannelPattern, seq_FlipTubeTool);
// }} ""
// {{ 264 1 0 "ee26d568_b7e0_4d1a_849877464ec1fe3b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 265 1 0 "d22ba6d6_b645_4819_9e92faca2b072621" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::FlipTubeClose(seq_TubeSequence, 0, str_ChannelPattern);
// }} ""
// {{ 266 1 0 "99976457_a072_40a2_8b9f31aa9fe8491f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_EjectTool == 1)
{
// }} ""
// {{{ 267 1 0 "cba17ea1_b242_4d71_a20e6d07aa9ac9c7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsEject(seq_FlipTubeTool);
// }} ""
// {{ 268 1 0 "99976457_a072_40a2_8b9f31aa9fe8491f" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 269 1 0 "55f8dd53_23ea_4582_aeac847422bba018" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 270 1 0 "dbcaedc6_7da1_4480_a672a49963dee072" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 271 1 0 "5dbf1ad3_212c_4b1f_b2fbfe84271f7e8c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 272 1 0 "0fcb7f1a_33fe_4c9b_81ea82bf3777a719" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (int_FlipTubeFunction == 4)
{
// }} ""
// {{ 273 1 0 "c0375b16_a947_4183_a4243650f39a04f0" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("=====================\nSpecial Close Fliptubes\n====================="));
// }} ""
// {{ 274 1 0 "728f0600_6723_44da_bb895325f712bdee" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_PickUpTool == 1)
{
// }} ""
// {{{ 275 1 0 "bad913a9_26ee_406b_9489ad26bfaa9b34" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsPickUp(str_ChannelPattern, seq_FlipTubeTool);
// }} ""
// {{ 276 1 0 "728f0600_6723_44da_bb895325f712bdee" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 277 1 0 "bc786ef2_8e4b_4fd6_bd698dee3264933d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VIRTUALLABWARE_V2::MoveSeq(ML_STAR, seq_TubeSequence, -10, -15, 0);
// }} ""
// {{ 278 1 0 "af688ff0_3bb8_4958_b270735262e2bf04" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("af688ff0_3bb8_4958_b270735262e2bf04"); // MoveToPosition
}
// }} ""
// {{ 279 1 0 "9915169b_5029_470b_b4e20a898df8bf2b" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("9915169b_5029_470b_b4e20a898df8bf2b"); // MoveToPosition
}
// }} ""
// {{ 280 1 0 "4da259e5_913b_408c_b5cdc58634c93745" "ML_STAR:{81DA4252-3BA9-11d4-AE21-0004ACB1DCB2}"
{
	variable arrRetValues[];
	arrRetValues = ML_STAR._81DA4252_3BA9_11d4_AE21_0004ACB1DCB2("4da259e5_913b_408c_b5cdc58634c93745"); // MoveToPosition
}
// }} ""
// {{{ 281 1 0 "f209d654_cfbb_4b9e_a19fc016a7c16117" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VIRTUALLABWARE_V2::MoveSeq(ML_STAR, seq_TubeSequence, 10, 15, 0);
// }} ""
// {{{ 282 1 0 "cb3258ca_dc07_42b5_96289644fb9bbdb5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::FlipTubeClose(seq_TubeSequence, 0, str_ChannelPattern);
// }} ""
// {{ 283 1 0 "2d347f4e_09c5_49b6_bf8eed72c49f4838" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (var_EjectTool == 1)
{
// }} ""
// {{{ 284 1 0 "85ebbaa7_1b50_41f9_9bcaf36847f91e9f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
FLIPTUBETOOL::ToolsEject(seq_FlipTubeTool);
// }} ""
// {{ 285 1 0 "2d347f4e_09c5_49b6_bf8eed72c49f4838" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 286 1 0 "0fcb7f1a_33fe_4c9b_81ea82bf3777a719" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 287 1 0 "5dbf1ad3_212c_4b1f_b2fbfe84271f7e8c" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 5 "Flip_Tube_Functions" "End"
}
// }} ""
// {{{ 5 "CalculateVolumeHeights" "Begin"
function CalculateVolumeHeights( variable & i_PlateTypes[], variable & i_Volumes[], variable & o_CalculatedHeights[] ) variable {
// }} ""
private variable NumPlateTypes;
private variable Counter;
private variable Counter2;
private variable Segments;
private variable SegmentHeights[];
private variable PlateTypes[];
private variable NumSegments[];
private variable SegmentEquations[];
private variable OutputFile;
private variable Height;
private variable InputFile;
private file File;
private variable NumInputPlateTypes;
private variable MatchedTypeIndexes[];
private variable NumMatched;
private variable MaxSegments;
private variable Index;
private variable PlateTypeSegments[];
private variable Equation;
private variable ParamsString;
private variable CalculatedHeightsString;
private variable RootPath;
private variable PythonScript;
private variable RunnableCommand;
private variable _Temp;
private variable CalculatedHeights[];
// {{ 5 "CalculateVolumeHeights" "InitLocals"
o_CalculatedHeights.SetSize( 0);
// }} ""
// {{{ 69 1 0 "e531473f_b8be_4a0f_90e5c602f6f5b638" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_PLATE_EQUATIONS::GetPlateTypes(PlateTypes);
// }} ""
// {{{ 70 1 0 "f3f5e4bc_7cea_4edb_83a0179362928906" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_PLATE_EQUATIONS::GetNumSegments(NumSegments);
// }} ""
// {{{ 71 1 0 "dca49e46_351a_4b9b_986e0d45a54734df" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_PLATE_EQUATIONS::GetSegmentHeights(SegmentHeights);
// }} ""
// {{{ 72 1 0 "546e381f_885d_48b7_9be61c26fce72720" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_PLATE_EQUATIONS::GetSegmentEquations(SegmentEquations);
// }} ""
// {{ 73 1 0 "96a86cf2_abca_465f_a392b0a7087ff8ab" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumInputPlateTypes=i_PlateTypes.GetSize();
// }} ""
// {{ 74 1 0 "13baf6e3_5482_4c1a_a6cd8aed637fd634" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumPlateTypes=PlateTypes.GetSize();
// }} ""
// {{ 75 1 0 "108d5565_9203_4adb_91c15d9e2225cd08" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 76 1 0 "fb5619bd_4b29_4889_b5a75b44dcfe089a" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
MatchedTypeIndexes.SetSize(0);
// }} ""
// {{ 77 1 0 "c129552a_4cbf_430b_87500b3f54996718" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumInputPlateTypes;)
{
Counter = Counter + 1;
// }} ""
// {{ 78 1 0 "3f2abd22_4a48_47a7_afba3975e1835e6c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < NumPlateTypes;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{ 79 1 0 "5972c073_afb6_44cf_b71b81b4d397ec77" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (i_PlateTypes.ElementAt( Counter -1) == PlateTypes.ElementAt( Counter2 -1))
{
// }} ""
// {{ 80 1 0 "1532b60b_d494_48d8_b860f9b7db867b95" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
MatchedTypeIndexes.AddAsLast(Counter2);
// }} ""
// {{ 81 1 0 "5972c073_afb6_44cf_b71b81b4d397ec77" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 82 1 0 "3f2abd22_4a48_47a7_afba3975e1835e6c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 83 1 0 "c129552a_4cbf_430b_87500b3f54996718" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 84 1 0 "4b58803a_4f91_422d_a3679f2e231e74aa" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumMatched=MatchedTypeIndexes.GetSize();
// }} ""
// {{ 85 1 0 "b2a56d62_aa57_4176_a653730bfdf8ea8e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumMatched != NumInputPlateTypes)
{
// }} ""
// {{{ 86 1 0 "161b9b01_f2f1_42f5_8d24a1ba1ff6e23b" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (Translate("False"));
// }} ""
// {{ 87 1 0 "b2a56d62_aa57_4176_a653730bfdf8ea8e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 88 1 0 "98c124dc_5601_4598_b62944d35dfbeebd" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
PlateTypeSegments.SetSize(0);
// }} ""
// {{ 89 1 0 "693f571b_01ed_4618_b3aea8418cc26261" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MaxSegments = 0;
// }} ""
// {{ 90 1 0 "2cbc2e24_b360_4d8c_a4c1c62602302865" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 91 1 0 "81c55175_17ea_48c9_b6130e0f70552189" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumInputPlateTypes;)
{
Counter = Counter + 1;
// }} ""
// {{ 92 1 0 "5104bfaf_212a_4ed4_af61e80feca5c9a0" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Index = MatchedTypeIndexes.ElementAt( Counter -1);
// }} ""
// {{ 93 1 0 "ec54c84e_bba7_4750_b7d6f51864d98d13" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Segments = NumSegments.ElementAt( Index -1);
// }} ""
// {{{ 94 1 0 "e9c27ea6_d107_4129_9b00ba4272cfc537" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Segments = StrIVal(Segments);
// }} ""
// {{ 95 1 0 "43ef944c_685d_4c99_8718352ac7b2411c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Segments > MaxSegments)
{
// }} ""
// {{ 96 1 0 "f2f422df_c959_4cd5_88ac18c66bdc3186" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
MaxSegments = Segments;
// }} ""
// {{ 97 1 0 "43ef944c_685d_4c99_8718352ac7b2411c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 98 1 0 "f48cf695_63fe_49e6_addcefc57fb06e76" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
PlateTypeSegments.AddAsLast(Segments);
// }} ""
// {{ 99 1 0 "81c55175_17ea_48c9_b6130e0f70552189" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 100 1 0 "e139ded5_eb67_4951_9dc94b79e416dfc3" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ParamsString = Translate("");
// }} ""
// {{ 101 1 0 "4ff7704f_1359_4f7b_861bcdb0f2ac2127" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 102 1 0 "f91063dd_6656_484d_b35ddd15700efe71" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumInputPlateTypes;)
{
Counter = Counter + 1;
// }} ""
// {{ 103 1 0 "e632f39e_d364_4f56_830011145b2871e1" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Index = MatchedTypeIndexes.ElementAt( Counter -1);
// }} ""
// {{ 104 1 0 "5fb81388_497e_45d4_8a764645a6045969" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Segments = NumSegments.ElementAt( Index -1);
// }} ""
// {{{ 105 1 0 "0d7a8926_c23f_4a13_be73b8be58143581" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ParamsString = StrConcat12(ParamsString, Translate(""), i_Volumes.ElementAt( Counter -1), Translate(","), Segments, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{{ 106 1 0 "d2298b21_5641_47d9_a5cdde5d1553649c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Segments = StrIVal(Segments);
// }} ""
// {{ 107 1 0 "57c736b5_30e0_4aba_b4aeafb95e9f6712" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < Segments;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{{ 108 1 0 "205ace93_e9d3_4ffa_98b6e913cbc08648" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Equation = HSLExtensions::Array2D::GetValue(SegmentEquations, Index, Counter2);
// }} ""
// {{{ 109 1 0 "27971696_cc7a_4ee6_89248978366a85c0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Height = HSLExtensions::Array2D::GetValue(SegmentHeights, Index, Counter2);
// }} ""
// {{{ 110 1 0 "a9b617fe_fb45_4b55_ac820e1b625fc229" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ParamsString = StrConcat12(ParamsString, Translate(","), Equation, Translate(","), Height, Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""), Translate(""));
// }} ""
// {{ 111 1 0 "57c736b5_30e0_4aba_b4aeafb95e9f6712" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 112 1 0 "c56479b6_1ff7_4c20_a27638860660e41e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Counter != NumInputPlateTypes)
{
// }} ""
// {{{ 113 1 0 "30bb5634_aef8_4991_a90f5584dfd01172" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ParamsString = StrConcat2(ParamsString, Translate(","));
// }} ""
// {{ 114 1 0 "c56479b6_1ff7_4c20_a27638860660e41e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 115 1 0 "f91063dd_6656_484d_b35ddd15700efe71" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 116 1 0 "1b227fe4_ed57_49ee_819cc117c633c12b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 117 1 0 "f8d3eddb_7301_4a06_b52aae5bcc884f60" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
RootPath = SCRIPT::GetConfigurationRootPath();
// }} ""
// {{{ 118 1 0 "0d43e3b5_ff40_4b89_ad301e86da387375" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
InputFile = StrConcat2(RootPath, Translate("\\Modules\\Pipette\\HelperScripts\\CalculateVolumeHeight\\Input.txt"));
// }} ""
// {{ 119 1 0 "dd521367_0df2_413f_bee7c19a7e68d1dd" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
File.AddField(1, ParamsString, hslString);
File.SetDelimiter(hslAsciiText);
if( 0 == File.Open(InputFile, hslWrite) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, InputFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 120 1 0 "e93678f3_7678_47c2_a1a03b62f3a0ffd3" "{B31F3537-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == File.WriteRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1473380096, MECC::IDS::stepNameFileWrite, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 121 1 0 "6744a100_3794_4e77_92420ca0fcf1126e" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
File.RemoveFields();
// }} ""
// {{{ 122 1 0 "61ab1d3d_2e72_4d33_9b8d715588b29015" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
PythonScript = StrConcat2(RootPath, Translate("\\Modules\\Pipette\\HelperScripts\\CalculateVolumeHeight\\CalculateVolumeHeight.py"));
// }} ""
// {{{ 123 1 0 "36a5212b_6119_4c64_b56374835151753e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
RunnableCommand = SCRIPT::GeneratePythonScriptCommand(PythonScript, Translate(""), Translate("True"));
// }} ""
// {{{ 124 1 0 "58e5a560_2bdf_4929_bcce1233a9bd6975" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Util::SyncShell(RunnableCommand, 1, _Temp);
// }} ""
// {{{ 125 1 0 "29d11918_f3de_4233_b482a922429e6ca0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
OutputFile = StrConcat2(RootPath, Translate("\\Modules\\Pipette\\HelperScripts\\CalculateVolumeHeight\\Output.txt"));
// }} ""
// {{ 126 1 0 "9631c987_eaff_4e42_85ace949547e1529" "{B31F3534-5D80-11d4-A5EB-0050DA737D89}"
File.AddField(1, CalculatedHeightsString, hslString);
File.SetDelimiter(hslAsciiText);
if( 0 == File.Open(OutputFile, hslRead) )
{
    MECC::RaiseRuntimeErrorEx(-1523711743, MECC::IDS::stepNameFileOpen, MECC::IDS::errorStepFileOpenFailed, OutputFile, "HxMetEdCompCmd");
}
// }} ""
// {{ 127 1 0 "0c60b1fd_8712_4615_b9c4c2946dca2561" "{B31F3536-5D80-11d4-A5EB-0050DA737D89}"
if( 0 == File.ReadRecord() )
{
    MECC::RaiseRuntimeErrorEx(-1490157312, MECC::IDS::stepNameFileRead, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
// }} ""
// {{ 128 1 0 "a22526d2_d250_4c6f_bdd56cca3cb655ba" "{B31F3538-5D80-11d4-A5EB-0050DA737D89}"
if( 0 != File.Close() )
{
    MECC::RaiseRuntimeErrorEx(-1456602880, MECC::IDS::stepNameFileClose, MECC::IDS::errorStepFailed, "", "HxMetEdCompCmd");
}
File.RemoveFields();
// }} ""
// {{{ 129 1 0 "acbdc0eb_e3db_4734_8116c170e39c103f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Translate(","), CalculatedHeightsString, CalculatedHeights);
// }} ""
// {{{ 130 1 0 "dc8a0c4c_44bb_4e8c_aa6c4b843aa73fa1" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(CalculatedHeights, o_CalculatedHeights);
// }} ""
// {{{ 131 1 0 "3826d5a0_b4ad_4e4e_b7e34d12520c6bcc" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (Translate("True"));
// }} ""
// {{{ 5 "CalculateVolumeHeights" "End"
}
// }} ""
// {{{ 5 "ShowTipsDialog" "Begin"
function ShowTipsDialog(  ) void {
// }} ""
private variable NumTrackedTips;
private variable TipLoadingArray2D[];
// {{ 5 "ShowTipsDialog" "InitLocals"
// }} ""
// {{ 445 1 0 "d9d3564e_46c4_46d8_a700a5ef8cc1cba0" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTrackedTips=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{{ 446 1 0 "8aa0df3f_f44b_46b4_85ac0f5633b0e286" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipLoadingArray2D = HSLExtensions::Array2D::Create(2, NumTrackedTips);
// }} ""
// {{{ 447 1 0 "ba39e781_0d05_4032_8e70faf8245a3921" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::Array2D::SetColumn(TipLoadingArray2D, _MODULE_PIPETTE_TrackedTipSequenceStrings, 1);
// }} ""
// {{{ 448 1 0 "4f20f840_a491_4065_a4db6e74f3a2159e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::Array2D::SetColumn(TipLoadingArray2D, _MODULE_PIPETTE_TrackedTipSequencesNumUsed, 2);
// }} ""
// {{{ 449 1 0 "cfde1f5d_8242_463b_96612111f5a7ec8f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::EDIT_TipsDialog(TipLoadingArray2D);
// }} ""
// {{{ 5 "ShowTipsDialog" "End"
}
// }} ""
// {{{ 5 "CalculateUsedTips" "Begin"
private function CalculateUsedTips( device & ML_STAR, variable & TipSequenceStrings[], variable & TipSequenceTypes[], variable & TipSequenceVolumes[], variable & TipSequenceWasteSequenceStrings[], variable & VolumesArray[] ) void {
// }} ""
private variable Temp;
private variable Counter;
private variable TipsUsed;
private variable MaxPipettingVolume;
private variable Counter2;
private variable Volume;
private variable NumVolumes;
private variable NumTipSequences;
private variable TrackedIndex;
private variable TipCounterString;
// {{ 5 "CalculateUsedTips" "InitLocals"
// }} ""
// {{ 21 1 0 "cb7411bc_de02_4f92_bce6f6152af2a13b" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 22 1 0 "589b7179_ea3e_4c8c_bafde6f187b6049c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
MaxPipettingVolume = PIPETTE_CONFIG::GetMaxPipettingVolume();
// }} ""
// {{ 23 1 0 "779fe150_fbe1_4aa0_84be2960d4c2e99f" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 24 1 0 "68e41794_2feb_48dc_bd454147021744e4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTipSequences=TipSequenceStrings.GetSize();
// }} ""
// {{ 25 1 0 "0396b5ed_5231_4843_b98299931c64dde7" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumVolumes=VolumesArray.GetSize();
// }} ""
// {{ 26 1 0 "fe89a945_8cf9_4483_877012c418fd62f1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumVolumes;)
{
Counter = Counter + 1;
// }} ""
// {{ 27 1 0 "071c49e4_0334_4219_b44557349306dba8" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Volume = VolumesArray.ElementAt( Counter -1);
// }} ""
// {{ 28 1 0 "c733b6dd_31ba_4fb4_80fd99807043bf5e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (MaxPipettingVolume != 0)
{
// }} ""
// {{ 29 1 0 "9f03333a_a7f4_4b6a_9428a665b47d3722" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Volume > MaxPipettingVolume)
{
// }} ""
// {{ 30 1 0 "9ac2af68_3e20_4055_a718a0c3b5c0266a" "{F07B0071-8EFC-11d4-A3BA-002035848439}"
MECC::TraceComment(Translate("*******************************************************************************************\n******************************************ATTENTION**********************************\n*******************************************************************************************\n\nPipetting volumes are greater than the max pipetting volume for this \nconfiguration.\nPlease resolve by doing one of the following:\n1. reducing the pipetting volume in the method \n2. increasing the max pipetting volume by modifying the Pipette module configuration file.\n\n*******************************************************************************************\n******************************************ATTENTION**********************************\n*******************************************************************************************"));
// }} ""
// {{ 31 1 0 "1f07bf6c_d93b_4ab2_9087feda8117c273" "{930D6C31-8EFB-11d4-A3BA-002035848439}"
abort;
// }} ""
// {{ 32 1 0 "9f03333a_a7f4_4b6a_9428a665b47d3722" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 33 1 0 "c733b6dd_31ba_4fb4_80fd99807043bf5e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 34 1 0 "92f5baf0_ca67_4c33_acfa9c149732d9e1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < NumTipSequences;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{{ 35 1 0 "8fca98a5_42ea_4b06_b9c184c9a6d08eef" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequenceStrings.ElementAt( Counter2 -1), _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 36 1 0 "2b44e109_5d9d_4177_9180b02fd7c9e4f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TrackedIndex == 0)
{
// }} ""
// {{ 37 1 0 "0283c4a3_4426_4fb4_8a85dc70b6057853" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 38 1 0 "54f537c3_790f_4c25_b1210d83fc69eb3a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
TrackedIndex=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{ 39 1 0 "5e6474a3_27c8_4b29_be779488611c9359" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TrackedIndex = TrackedIndex + 1;
// }} ""
// {{{ 40 1 0 "9d4221bc_aea6_4b1d_a475f1142e4ad303" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCounterString = StrConcat2(TipSequenceStrings.ElementAt( Counter2 -1), Translate("_TipCounter"));
// }} ""
// {{ 41 1 0 "c2b14fe8_e91e_4f11_90edec8572658025" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceStrings.AddAsLast(TipSequenceStrings.ElementAt( Counter2 -1));
// }} ""
// {{ 42 1 0 "bf249415_2b1a_4e51_9dd4e7436aa150e4" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceTypes.AddAsLast(TipSequenceTypes.ElementAt( Counter2 -1));
// }} ""
// {{ 43 1 0 "32bcd419_6e54_4af6_9e05d93bd99ed165" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceVolumes.AddAsLast(TipSequenceVolumes.ElementAt( Counter2 -1));
// }} ""
// {{ 44 1 0 "384dee23_8528_413d_a0e90ed9055c19f8" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesTipCounter.AddAsLast(TipCounterString);
// }} ""
// {{ 45 1 0 "50dd9884_1297_4b91_8362438b56a9ee0d" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesWasteSequence.AddAsLast(TipSequenceWasteSequenceStrings.ElementAt( Counter2 -1));
// }} ""
// {{ 46 1 0 "97650cb3_8190_44a2_a82cbaf6a45ef0bb" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.AddAsLast(Translate("N/A"));
// }} ""
// {{ 47 1 0 "239949a4_d6d8_42af_88f5a720e467738c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed.AddAsLast(0);
// }} ""
// {{ 48 1 0 "2b44e109_5d9d_4177_9180b02fd7c9e4f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 49 1 0 "01fa99a2_d751_41a0_ab859c68e4df7bdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Volume <= TipSequenceVolumes.ElementAt( Counter2 -1))
{
// }} ""
// {{ 50 1 0 "4b88aad6_c55a_4ce7_b4b86fd9449b18a7" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
TipsUsed=_MODULE_PIPETTE_TrackedTipSequencesNumUsed.GetAt(TrackedIndex-1);
// }} ""
// {{ 51 1 0 "4678121d_83f6_459f_ac7553e2ed749df8" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TipsUsed = TipsUsed + 1;
// }} ""
// {{ 52 1 0 "52917d7b_2b64_4e4c_af2defcc0e6fa1d2" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed.SetAt(TrackedIndex-1, TipsUsed);
// }} ""
// {{ 53 1 0 "34fb555f_7494_43b1_bdd36925f119fc5d" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 54 1 0 "01fa99a2_d751_41a0_ab859c68e4df7bdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 55 1 0 "2c4bab81_3c7d_4794_ac3536ea58cd7c13" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Counter2 == NumTipSequences)
{
// }} ""
// {{ 56 1 0 "68ef8da5_1bf2_4a7c_9b95be95d40ade04" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
Temp = Volume / (TipSequenceVolumes.ElementAt( Counter2 -1) * 1.0);
// }} ""
// {{{ 57 1 0 "86ead477_f187_47a5_8ec289954d985eab" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Temp = StrFStr(Temp);
// }} ""
// {{{ 58 1 0 "903dd264_4537_4a24_902cb4107103906d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Temp = StrIVal(Temp);
// }} ""
// {{ 59 1 0 "14d88644_8c8c_4d87_b224ea3e48c9105a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
Temp = Temp + 1;
// }} ""
// {{ 60 1 0 "a9413f02_7aa1_4012_b3a3e2062bd20766" "{67A8F1C9-6546-41e9-AD2F-3C54F7818853}"
TipsUsed=_MODULE_PIPETTE_TrackedTipSequencesNumUsed.GetAt(TrackedIndex-1);
// }} ""
// {{ 61 1 0 "fcb4724e_dec5_4743_b2cf266bea4daf74" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TipsUsed = TipsUsed + Temp;
// }} ""
// {{ 62 1 0 "716a19b0_fbe8_4438_86390daec692c79f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed.SetAt(TrackedIndex-1, TipsUsed);
// }} ""
// {{ 63 1 0 "d4f25043_e409_4db2_9e62d09ca2975b9d" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 64 1 0 "2c4bab81_3c7d_4794_ac3536ea58cd7c13" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 65 1 0 "01fa99a2_d751_41a0_ab859c68e4df7bdc" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 66 1 0 "92f5baf0_ca67_4c33_acfa9c149732d9e1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 67 1 0 "fe89a945_8cf9_4483_877012c418fd62f1" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "CalculateUsedTips" "End"
}
// }} ""
// {{{ 5 "DoTipLoading" "Begin"
function DoTipLoading( device & ML_STAR ) void {
// }} ""
private variable Required;
private variable NumTipsRequired;
private variable TotalTips;
private variable Remainder;
private variable NumSetsRequired;
private variable loopCounter1;
private variable NumChannels;
private variable Available;
private variable Counter;
private variable TipType;
private variable NumTipSequences;
private dialog customDialog1690537C7B6E46d0830DF07F006B240E;
private dialog customDialog0CB61C4E311A48a78CDC5A4FA87647AC;
private variable NumTipsLoaded;
private variable WasteSequenceName;
private variable NumUsed;
private variable LoadingString;
private sequence Waste;
private sequence TipSequenceWasteSequence;
private sequence TipSequence;
private variable VolumeString;
private variable TipVolume;
private variable LabID;
private variable PosID;
private variable SeqString;
private sequence NTRWasteSequence;
private sequence TempTipSequence;
// {{ 5 "DoTipLoading" "InitLocals"
// }} ""
// {{{ 165 1 0 "1b7656d8_b6f8_4a29_a9d18c9ed74c206f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
NumChannels = PIPETTE_CONFIG::GetNumChannels();
// }} ""
// {{ 166 1 0 "fe103553_ff5e_4bf2_b0c9d3cbd6a223ae" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTipSequences=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{ 167 1 0 "9f567317_134f_4ee0_ab009c30df5c2aaa" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumTipSequences;)
{
Counter = Counter + 1;
// }} ""
// {{ 168 1 0 "108f4aa4_049e_43bb_a13371196759ad91" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
NumUsed = _MODULE_PIPETTE_TrackedTipSequencesNumUsed.ElementAt( Counter -1);
// }} ""
// {{ 169 1 0 "e93739dc_e8d4_4fce_9bacf6e0d68d9254" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipType = _MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( Counter -1);
// }} ""
// {{ 170 1 0 "358a5d3c_3c0d_40ee_ae3ad577d06f122c" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipVolume = _MODULE_PIPETTE_TrackedTipSequenceVolumes.ElementAt( Counter -1);
// }} ""
// {{{ 171 1 0 "206dc3cd_9ee4_40e5_ab28ca20112a8ee7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequenceStrings.ElementAt( Counter -1), TipSequence);
// }} ""
// {{ 172 1 0 "ef08de4d_d415_4338_8e3f39b35cc4e277" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumUsed > 0)
{
// }} ""
// {{ 173 1 0 "6b5d65f0_7cb2_4e9c_b7b7546238d78832" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 174 1 0 "5efb01b8_c0db_44db_9b732a52968a2e9a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
Remainder = NumUsed % NumChannels;
// }} ""
// {{ 175 1 0 "3206c3e1_e4bf_4ab9_9ee19cb29582459a" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumSetsRequired = NumUsed / NumChannels;
// }} ""
// {{{ 176 1 0 "6e32f3f3_bd87_44b2_855ec4a4eb5483ea" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
NumSetsRequired = StrFStr(NumSetsRequired);
// }} ""
// {{{ 177 1 0 "b4f702c4_4cd5_40cd_9e8d3ce30a2d92b3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
NumSetsRequired = StrIVal(NumSetsRequired);
// }} ""
// {{ 178 1 0 "be763bbd_5545_4206_a4aad9946e6a81f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Remainder == 0)
{
// }} ""
// {{ 179 1 0 "306b967c_90a3_4098_b2e9d6cd73d651f4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumSetsRequired = NumSetsRequired + 1;
// }} ""
// {{ 180 1 0 "be763bbd_5545_4206_a4aad9946e6a81f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{ 181 1 0 "fe202dd2_d74a_4b1c_8be8d8b3bf1018e2" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumSetsRequired = NumSetsRequired + 2;
// }} ""
// {{ 182 1 0 "be763bbd_5545_4206_a4aad9946e6a81f2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 183 1 0 "6e7a9922_f73e_48e4_b670c462d4d530f4" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumTipsRequired = NumSetsRequired * NumChannels;
// }} ""
// {{ 184 1 0 "6b5d65f0_7cb2_4e9c_b7b7546238d78832" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 185 1 0 "1ebd68f7_66cb_4ed4_b6221e964810fab4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "NTR")
{
// }} ""
// {{{ 186 1 0 "fd39c989_fa13_4bab_a2200548d400f92e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
LoadingString = StrConcat4(Translate("Edit "), _MODULE_PIPETTE_TrackedTipSequenceVolumes.ElementAt( Counter -1), Translate("uL Tip Locations"), Translate(""));
// }} ""
// {{{ 187 1 0 "c7d7fc92_5a3e_4bd6_a226db36dbe59ab5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequencesWasteSequence.ElementAt( Counter -1), TipSequenceWasteSequence);
// }} ""
// {{ 188 1 0 "a0f35cb3_5c74_4902_8e3ec76c7819bc60" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (1 == 1)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{{ 189 1 0 "323fe70d_f90e_4453_be0373b5c20c19d3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY::Channels_TipCounter_Edit(ML_STAR, TipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), LoadingString, 1, 1000);
// }} ""
// {{ 190 1 0 "6536c15d_b9f8_4a46_b03320528a51ec31" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
NumTipsLoaded = TipSequence.GetCurrentPosition();
// }} ""
// {{ 191 1 0 "5c5fd701_c40e_4ab6_951ada431c57b5da" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumTipsLoaded = NumTipsLoaded - 1;
// }} ""
// {{{ 192 1 0 "b6ec6f98_a8bb_4f3f_9737f41ff67d9027" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TotalTips = SeqGetTotal(TipSequence);
// }} ""
// {{ 193 1 0 "ede31dc8_ab08_4f8c_9322a83b54944304" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
NumTipsLoaded = TotalTips - NumTipsLoaded;
// }} ""
// {{ 194 1 0 "b2e5f8e5_f694_4400_88da8fc52e1f912d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumTipsRequired <= NumTipsLoaded)
{
// }} ""
// {{{ 195 1 0 "3b18d9dc_a30e_4de2_91bb7e6bb47ec194" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY::SortSeqToDiscardEmptyNTROnDeck(TipSequenceWasteSequence, 0, Waste, ML_STAR);
// }} ""
// {{{ 196 1 0 "f2fd5a40_88b8_40e1_97a328ba87001f0a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
VolumeString = StrIStr(TipVolume);
// }} ""
// {{{ 197 1 0 "b6420c22_1cc6_493b_8b8ea5db52f712d8" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqString = StrConcat2(Translate("__Module_Pipette_NTRWaste"), VolumeString);
// }} ""
// {{{ 198 1 0 "1287ec8b_a783_4195_9667175db1467fb3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, SeqString, NTRWasteSequence);
// }} ""
// {{{ 199 1 0 "ccbf2f33_c242_4180_a44e23a1c88483ff" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
LabID = SeqGetLabwareId(Waste);
// }} ""
// {{{ 200 1 0 "4ece672c_0a8a_47f1_b5c4a50060bc1984" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
PosID = SeqGetPositionId(Waste);
// }} ""
// {{{ 201 1 0 "d6940568_97a3_46ce_acf2f42c47a025bf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqRemoveAll(NTRWasteSequence);
// }} ""
// {{{ 202 1 0 "3e1313a2_ec11_4152_813f8801c07c2780" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqAdd(NTRWasteSequence, LabID, PosID);
// }} ""
// {{ 203 1 0 "e9265383_2334_43f6_b773be0545c6814d" "{B31F353C-5D80-11d4-A5EB-0050DA737D89}"
NTRWasteSequence.SetCount(1);
// }} ""
// {{ 204 1 0 "64e94108_2b87_4eb3_beb71d75a4c4f0d9" "{B31F353A-5D80-11d4-A5EB-0050DA737D89}"
NTRWasteSequence.SetCurrentPosition(1);
// }} ""
// {{{ 205 1 0 "9f9ef09b_a84e_467c_a1b31e5a33422d13" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
WasteSequenceName = SeqGetName(NTRWasteSequence);
// }} ""
// {{ 206 1 0 "4276675d_0a00_4b9b_9692b6562ea600c6" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.SetAt(Counter-1, WasteSequenceName);
// }} ""
// {{ 207 1 0 "f64be69b_9451_4b18_bd538d8c95813e25" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 208 1 0 "b2e5f8e5_f694_4400_88da8fc52e1f912d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 209 1 0 "c3e5c6ab_8ba5_45ef_92d272eb434d0b1b" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Required = NumTipsRequired;
// }} ""
// {{ 210 1 0 "3009bb25_bec1_44d4_9a871bfad4f9422f" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Available = NumTipsLoaded;
// }} ""
// {{ 211 1 0 "d4ff41b2_87f2_4684_8f262298f0c10256" "{998A7CCC-4374-484D-A6ED-E8A4F0EB71BA}"
customDialog0CB61C4E311A48a78CDC5A4FA87647AC.InitCustomDialog( "d4ff41b2_87f2_4684_8f262298f0c10256" );
customDialog0CB61C4E311A48a78CDC5A4FA87647AC.SetCustomDialogProperty( "textBox1.Text", Required );
customDialog0CB61C4E311A48a78CDC5A4FA87647AC.SetCustomDialogProperty( "textBox2.Text", Available );
customDialog0CB61C4E311A48a78CDC5A4FA87647AC.ShowCustomDialog();
// }} ""
// {{ 212 1 0 "a0f35cb3_5c74_4902_8e3ec76c7819bc60" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 213 1 0 "1ebd68f7_66cb_4ed4_b6221e964810fab4" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 214 1 0 "7b937bd6_b306_4519_a9b603e260f56f9d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "FTR")
{
// }} ""
// {{ 215 1 0 "4cb6827d_5caa_4d53_b8281a0f051d9d62" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{{ 216 1 0 "732ce277_5507_4b45_804f85b8965e28f9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(TempTipSequence, TipSequence);
// }} ""
// {{{ 217 1 0 "c8ff338e_c39f_484f_8871e6c94e6e1e51" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCount::Read2(TempTipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), ML_STAR);
// }} ""
// {{ 218 1 0 "ebaad574_8a89_4b61_94ef6c9e57d5c273" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
loopCounter1 = 0;
while (1 == 1)
{
loopCounter1 = loopCounter1 + 1;
// }} ""
// {{{ 219 1 0 "845ed219_8341_4f8c_954426c05bf57a2a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCount::Edit2(TempTipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), ML_STAR, 10000);
// }} ""
// {{{ 220 1 0 "c5ae6108_74b3_456d_8477756e75c62551" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
NumTipsLoaded = SeqGetTotal(TipSequence);
// }} ""
// {{ 221 1 0 "98ed185e_5a7a_4b10_a0a8e2224df9baef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumTipsRequired <= NumTipsLoaded)
{
// }} ""
// {{ 222 1 0 "eac5c21b_24a1_4a4a_b77bf807b84489ad" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 223 1 0 "98ed185e_5a7a_4b10_a0a8e2224df9baef" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 224 1 0 "3bc50359_710d_4e0b_844b5b2319f00d42" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Required = NumTipsRequired;
// }} ""
// {{ 225 1 0 "c291e499_39af_48e9_ba9cf545c0a7b437" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Available = NumTipsLoaded;
// }} ""
// {{ 226 1 0 "9484a838_988d_4d87_9870bb822b192464" "{998A7CCC-4374-484D-A6ED-E8A4F0EB71BA}"
customDialog1690537C7B6E46d0830DF07F006B240E.InitCustomDialog( "9484a838_988d_4d87_9870bb822b192464" );
customDialog1690537C7B6E46d0830DF07F006B240E.SetCustomDialogProperty( "textBox1.Text", Required );
customDialog1690537C7B6E46d0830DF07F006B240E.SetCustomDialogProperty( "textBox2.Text", Available );
customDialog1690537C7B6E46d0830DF07F006B240E.ShowCustomDialog();
// }} ""
// {{ 227 1 0 "ebaad574_8a89_4b61_94ef6c9e57d5c273" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 228 1 0 "06109804_a792_4e3c_8ad4efd7802cd4eb" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCount::Write2(TempTipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), ML_STAR);
// }} ""
// {{{ 229 1 0 "0282f379_a5f7_4cc9_bfcec6a2b112c7d3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
SeqCopySequence(TipSequence, TempTipSequence);
// }} ""
// {{ 230 1 0 "7b937bd6_b306_4519_a9b603e260f56f9d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 231 1 0 "ef08de4d_d415_4338_8e3f39b35cc4e277" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 232 1 0 "9f567317_134f_4ee0_ab009c30df5c2aaa" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "DoTipLoading" "End"
}
// }} ""
// {{{ 5 "SaveTipLoading" "Begin"
private function SaveTipLoading( device & ML_STAR ) void {
// }} ""
private variable CoreGripToolSequenceString;
private variable NumTips;
private variable Counter;
private variable TipType;
private variable NumTipSequences;
private variable LoadingString;
private sequence TipSequence;
private sequence TipWasteSequence;
private sequence CoreGripToolSequence;
// {{ 5 "SaveTipLoading" "InitLocals"
// }} ""
// {{ 426 1 0 "10322e6f_2bab_4041_8eb13fcc829cf7ea" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTipSequences=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{ 427 1 0 "16e3c315_16ed_415f_ba61c840e9851734" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumTipSequences;)
{
Counter = Counter + 1;
// }} ""
// {{ 428 1 0 "89afccd1_145a_422e_b8ca5891c6256048" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
TipType = _MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( Counter -1);
// }} ""
// {{{ 429 1 0 "bb9e6dda_524c_4abe_a8b2084ea4270494" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequenceStrings.ElementAt( Counter -1), TipSequence);
// }} ""
// {{ 430 1 0 "7d279456_83c2_4d76_8e6f52cc9d7dd216" "{B31F353B-5D80-11d4-A5EB-0050DA737D89}"
NumTips = TipSequence.GetCurrentPosition();
// }} ""
// {{ 431 1 0 "10fa679a_c032_4d7d_88f6ab683ffcfb64" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumTips != 1)
{
// }} ""
// {{ 432 1 0 "319cf17c_56a1_4ef7_9c0976039cc52b8c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "NTR")
{
// }} ""
// {{{ 433 1 0 "29a4414a_3aa0_4537_a005088bfd6e03fc" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
LoadingString = StrConcat4(Translate("Please Reload "), _MODULE_PIPETTE_TrackedTipSequenceVolumes.ElementAt( Counter -1), Translate(" NTR Tips"), Translate(""));
// }} ""
// {{{ 434 1 0 "2c71ec55_b9fb_44b9_a7f66e6f3a9afa30" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
CoreGripToolSequenceString = PIPETTE_CONFIG::GetCoreGripToolSequenceString();
// }} ""
// {{{ 435 1 0 "c8eca5c2_b9ee_4f7f_b4035608cc4c926a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, CoreGripToolSequenceString, CoreGripToolSequence);
// }} ""
// {{{ 436 1 0 "bb772c4d_b108_4b1a_a97f50db2ab3551c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
DevGetSequenceRef(ML_STAR, _MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.ElementAt( Counter -1), TipWasteSequence);
// }} ""
// {{{ 437 1 0 "2d2ddae6_7fb0_4402_86e18b9a73d50b38" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
VISUAL_NTR_LIBRARY::Channels_TipCounter_Write(ML_STAR, TipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), TipWasteSequence, CoreGripToolSequence, 1, 1, 0, TipWasteSequence, 0, 8, 0, 1, LoadingString, 999);
// }} ""
// {{ 438 1 0 "319cf17c_56a1_4ef7_9c0976039cc52b8c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 439 1 0 "57185257_ef5a_4b43_9aef2c6229355be8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TipType == "FTR")
{
// }} ""
// {{{ 440 1 0 "392f4a0c_6cd5_43db_a12941ac42151c9f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCount::Write2(TipSequence, _MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( Counter -1), ML_STAR);
// }} ""
// {{ 441 1 0 "57185257_ef5a_4b43_9aef2c6229355be8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 442 1 0 "10fa679a_c032_4d7d_88f6ab683ffcfb64" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 443 1 0 "16e3c315_16ed_415f_ba61c840e9851734" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "SaveTipLoading" "End"
}
// }} ""
// {{{ 5 "AddUsedTips" "Begin"
function AddUsedTips( variable TipSequenceString, variable TipSequenceType, variable TipSequenceVolume, variable TipSequenceWasteSequenceString, variable NumTips ) void {
// }} ""
private variable TrackedIndex;
private variable TrackedIndexString;
private variable TipCounterString;
// {{ 5 "AddUsedTips" "InitLocals"
// }} ""
// {{{ 1 1 0 "b7ac98b6_8a5f_4a66_ae1c1ebd057d980b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequenceString, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 2 1 0 "64a6802b_d2e2_466b_99f3534f0e545c8c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TrackedIndex == 0)
{
// }} ""
// {{ 3 1 0 "60f67f67_7c0d_4c5a_92a4ccbc2c632ddd" "{F07B0071-8EFC-11d4-A3BA-002035848439}"

// }} ""
// {{ 4 1 0 "c886ddbf_4c40_40fc_84d6db1f1cdef4c4" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
TrackedIndex=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{ 5 1 0 "712dad17_38dd_4ded_83c5373c625caf02" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
TrackedIndex = TrackedIndex + 1;
// }} ""
// {{{ 6 1 0 "a9aa7e5b_8dee_4cae_a0213a7d90dd9ddd" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCounterString = StrConcat2(TipSequenceString, Translate("_TipCounter"));
// }} ""
// {{ 7 1 0 "e1d2c92f_4e2e_4c8a_a23c8db4de429721" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceStrings.AddAsLast(TipSequenceString);
// }} ""
// {{ 8 1 0 "793d615c_03ad_4500_98eddc6192a3d799" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceTypes.AddAsLast(TipSequenceType);
// }} ""
// {{ 9 1 0 "ae2cf378_a323_4b83_84ec764ab8f632ec" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequenceVolumes.AddAsLast(TipSequenceVolume);
// }} ""
// {{ 10 1 0 "9229117f_28f5_4be9_a58039f96b4a07e1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesTipCounter.AddAsLast(TipCounterString);
// }} ""
// {{ 11 1 0 "1591b0cc_7041_4a1d_bf3363bdf6341281" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesWasteSequence.AddAsLast(TipSequenceWasteSequenceString);
// }} ""
// {{ 12 1 0 "c4753e24_6066_49af_9974c031a795ea27" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.AddAsLast(Translate("N/A"));
// }} ""
// {{ 13 1 0 "65446377_fecb_4041_a264a860034774c9" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed.AddAsLast(0);
// }} ""
// {{{ 14 1 0 "75c158eb_ac2c_4032_bf4e50b89807afa0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrackedIndexString = StrIStr(TrackedIndex);
// }} ""
// {{{ 15 1 0 "dd1fc291_dcee_4ef0_b6d454f76936ad25" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TipCounterString = StrConcat2(Translate("TipCounter"), TrackedIndexString);
// }} ""
// {{ 16 1 0 "1a2bc317_d7e2_4790_b610b0bc5b9bbc5e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
_MODULE_PIPETTE_TrackedTipSequencesTipCounter.AddAsLast(TipCounterString);
// }} ""
// {{ 17 1 0 "64a6802b_d2e2_466b_99f3534f0e545c8c" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 18 1 0 "b30deb12_0fc0_422c_8de9cd52c7fc0474" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(TipSequenceString, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 19 1 0 "671f1922_ab67_4128_8599a7584b677b02" "{B31F3544-5D80-11d4-A5EB-0050DA737D89}"
_MODULE_PIPETTE_TrackedTipSequencesNumUsed[ TrackedIndex -1] = _MODULE_PIPETTE_TrackedTipSequencesNumUsed.ElementAt( TrackedIndex -1) + NumTips;
// }} ""
// {{{ 5 "AddUsedTips" "End"
}
// }} ""
// {{{ 5 "DoCommand" "Begin"
function DoCommand( device & ML_STAR, variable i_CommandString ) variable {
// }} ""
private variable Command;
private variable ReturnString;
private variable ID;
// {{ 5 "DoCommand" "InitLocals"
// }} ""
// {{{ 143 1 0 "00aee2e1_3719_45ea_8998e3c562f88241" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Command = COMMANDS::GetCommandStringCommand(i_CommandString);
// }} ""
// {{ 144 1 0 "8fb99757_6791_43ec_83276391504bf127" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (_MODULE_PIPETTE_IsInit != "True")
{
// }} ""
// {{{ 145 1 0 "1802609e_cdcb_4464_9cc57ba9d2c5f180" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::FailCritical();
// }} ""
// {{{ 146 1 0 "72df6a49_1268_49fc_a370fabdc3debc93" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Module not initialized"), Translate(""), Translate(""));
// }} ""
// {{{ 147 1 0 "999fa5e4_dee9_4912_9049090264d65363" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 148 1 0 "8fb99757_6791_43ec_83276391504bf127" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 149 1 0 "e9c0d0f1_c586_4537_adae5d7dba4bfbde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Command == "TransferLiquid")
{
// }} ""
// {{{ 150 1 0 "f966937f_9f83_4ea0_ab0e36084e6185fa" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = TransferLiquid(ML_STAR, i_CommandString);
// }} ""
// {{{ 151 1 0 "af4f392e_36fd_4523_9b3d78631ae238aa" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 152 1 0 "e9c0d0f1_c586_4537_adae5d7dba4bfbde" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 153 1 0 "8d29909b_f860_4925_9dd627ef6c688f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Command == "GetLiquidClassStrings")
{
// }} ""
// {{{ 154 1 0 "50e48e4b_d35f_4686_a95cede9e2422b35" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = GetLiquidClassStrings(ML_STAR, i_CommandString);
// }} ""
// {{{ 155 1 0 "25317a1f_4ca0_4951_a2ab54e2746d9276" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 156 1 0 "8d29909b_f860_4925_9dd627ef6c688f82" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 157 1 0 "a97251be_f67e_498b_b1c78ee3c858650b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Command == "GetTipSequenceStrings")
{
// }} ""
// {{{ 158 1 0 "7057a69e_e4c3_4399_959ed6ecd7a08941" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = GetTipSequenceStrings(ML_STAR, i_CommandString);
// }} ""
// {{{ 159 1 0 "8d075d45_fb0f_46a4_8e7f96fdf06bad1a" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 160 1 0 "a97251be_f67e_498b_b1c78ee3c858650b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 161 1 0 "d352b5cf_eca8_4e57_925e147c923b45b4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::FailCritical();
// }} ""
// {{{ 162 1 0 "33c812b4_7bb8_4bfc_9b0fef960ed07f26" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Command not found"), Translate(""), Translate(""));
// }} ""
// {{{ 163 1 0 "bdc5eb49_417c_4f7e_b0e63d9406c5e299" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "DoCommand" "End"
}
// }} ""
// {{{ 5 "DeInit" "Begin"
function DeInit( device & ML_STAR, variable i_CommandString ) variable {
// }} ""
private variable ID;
private variable ReturnString;
// {{ 5 "DeInit" "InitLocals"
// }} ""
// {{ 133 1 0 "12ea51d3_f1ef_443e_aede72840a22b53e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (_MODULE_PIPETTE_IsInit == "True")
{
// }} ""
// {{{ 134 1 0 "bc01b397_e12c_448c_84cc9f16b433bef7" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
SaveTipLoading(ML_STAR);
// }} ""
// {{{ 135 1 0 "d624baab_3b6d_4d4a_9f98df026d4aa2ec" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessNoErrors();
// }} ""
// {{{ 136 1 0 "0d792c19_d542_4231_9b61cc0da2a626bf" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Deinit Successful"), Translate(""), Translate(""));
// }} ""
// {{{ 137 1 0 "8d12984d_eb28_48c4_8dfcdcfa5b27b79d" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{ 138 1 0 "12ea51d3_f1ef_443e_aede72840a22b53e" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{{ 139 1 0 "49b10e2b_ba97_4821_9c190672eba15f0d" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessRequestSkipped();
// }} ""
// {{{ 140 1 0 "0584b06e_f045_4f7c_9fff930a76decf76" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("Deinit not required"), Translate(""), Translate(""));
// }} ""
// {{{ 141 1 0 "d1fe8fac_8ca5_4653_b51f84e7963dbfa8" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "DeInit" "End"
}
// }} ""
// {{{ 5 "GetTipSequenceStrings" "Begin"
private function GetTipSequenceStrings( device & ML_STAR, variable i_CommandString ) variable {
// }} ""
private variable Counter;
private variable ReturnVal;
private variable SequenceString;
private variable Delimiter;
private variable Counter2;
private variable TransferVolumesString;
private variable NumVolumes;
private variable NumTipVolumes;
private variable TipVolumes[];
private variable Dict[];
private variable TransferVolumeStringsArray[];
private variable TransferVolumesArray[];
private variable TipSequenceStrings[];
private variable ID;
private variable ReturnString;
private variable GeneratedSequenceStrings[];
// {{ 5 "GetTipSequenceStrings" "InitLocals"
// }} ""
// {{{ 351 1 0 "16d2c32e_9fb6_490c_a0ca5b3424ea8dbe" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::ParseCommandParametersString(i_CommandString, Dict);
// }} ""
// {{{ 352 1 0 "c11b485b_c5f8_4592_8b2da6bb8e5e55b2" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("TransferVolume"), TransferVolumesString);
// }} ""
// {{{ 353 1 0 "ffb4e7fd_253c_414e_8d81d83550c16f9b" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Delimiter = COMMANDS::GetCommandStringDelimiter();
// }} ""
// {{{ 354 1 0 "bcb43a6b_c63a_4f0a_b27a080ed1c4dc70" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, TransferVolumesString, TransferVolumeStringsArray);
// }} ""
// {{{ 355 1 0 "cd1074ca_c933_449c_b7d4e5e4cc622eb3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(TransferVolumeStringsArray, TransferVolumesArray);
// }} ""
// {{{ 356 1 0 "88e4f855_25ae_4152_bdad0ab15ef872ef" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceVolumes(TipVolumes);
// }} ""
// {{{ 357 1 0 "67ec1ed0_0f1b_44db_9f32b843dceda988" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG::GetTipSequenceStrings(TipSequenceStrings);
// }} ""
// {{ 358 1 0 "573b2e45_6e5c_45ad_aad7f14becc97bbe" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTipVolumes=TipVolumes.GetSize();
// }} ""
// {{ 359 1 0 "f789e21f_4fba_4088_ae70ec28ae9127d9" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
ReturnVal = Translate("");
// }} ""
// {{ 360 1 0 "5ecb9965_da54_432c_810a8bf48105271a" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumVolumes=TransferVolumesArray.GetSize();
// }} ""
// {{ 361 1 0 "f25a3264_00e2_4582_babf2ac1aa6e89b9" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
GeneratedSequenceStrings.SetSize(0);
// }} ""
// {{ 362 1 0 "e3519530_c2bd_4a5e_849643fbf1ef75e4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumVolumes;)
{
Counter = Counter + 1;
// }} ""
// {{ 363 1 0 "98abd306_dbea_4ed9_8f106658405b98ff" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < NumTipVolumes;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{ 364 1 0 "a5d2704f_9a97_4682_82e5097f5fad15a7" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
SequenceString = TipSequenceStrings.ElementAt( Counter2 -1);
// }} ""
// {{ 365 1 0 "f6ed6b91_b940_4e1e_abc8582ba3a8f50d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransferVolumesArray.ElementAt( Counter -1) <= TipVolumes.ElementAt( Counter2 -1))
{
// }} ""
// {{ 366 1 0 "cd1ad5d6_1f37_4886_815f57cb2360da11" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 367 1 0 "f6ed6b91_b940_4e1e_abc8582ba3a8f50d" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 368 1 0 "98abd306_dbea_4ed9_8f106658405b98ff" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 369 1 0 "01ae1635_1b64_4e45_b08d412229b42142" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
GeneratedSequenceStrings.AddAsLast(SequenceString);
// }} ""
// {{ 370 1 0 "e3519530_c2bd_4a5e_849643fbf1ef75e4" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 371 1 0 "fc69221f_6393_4544_b1d7da21200aaa75" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnVal = TOOLS::ArrayToDelimitedList(Delimiter, GeneratedSequenceStrings);
// }} ""
// {{{ 372 1 0 "3f9cb3a6_1384_4f83_b1c9614116ac2504" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessItemsReturned();
// }} ""
// {{{ 373 1 0 "79b53a59_c4a1_4f8e_bba9906c0673b744" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("TipSequenceStrings delimited list returned"), Translate("Response"), ReturnVal);
// }} ""
// {{{ 374 1 0 "06d48346_1639_45fc_b9eab09c8bf6481c" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "GetTipSequenceStrings" "End"
}
// }} ""
// {{{ 5 "GetLiquidClassStrings" "Begin"
private function GetLiquidClassStrings( device & ML_STAR, variable i_CommandString ) variable {
// }} ""
private variable NumLiquidTypes;
private variable Counter;
private variable ReturnVal;
private variable Delimiter;
private variable LiquidClass;
private variable TransferVolumesString;
private variable LiquidCategoriesString;
private variable LiquidCategoriesStringsArray[];
private variable Dict[];
private variable TransferVolumeStringsArray[];
private variable TransferVolumesArray[];
private variable Counter2;
private variable NumLiquidClassCategories;
private variable ID;
private variable ReturnString;
private variable NumLiquidClassVolumes;
private variable LiquidClassCategories[];
private variable LiquidClassVolumes[];
private variable LiquidClassClasses[];
private variable WaterCategoryIndex;
private variable Index;
private variable GeneratedLiquidClasses[];
// {{ 5 "GetLiquidClassStrings" "InitLocals"
// }} ""
// {{{ 289 1 0 "3b9fe803_71ec_4162_b6952237166d5b7f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Delimiter = COMMANDS::GetCommandStringDelimiter();
// }} ""
// {{{ 290 1 0 "cd04b5f8_90b2_47da_b6f63a8abc7516b8" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::ParseCommandParametersString(i_CommandString, Dict);
// }} ""
// {{{ 291 1 0 "eedd40f6_2b97_4f3d_85ac1efe969f7731" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("LiquidCategory"), LiquidCategoriesString);
// }} ""
// {{{ 292 1 0 "a9a4fbb7_2952_43f2_85f55ff1ad81db0c" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, LiquidCategoriesString, LiquidCategoriesStringsArray);
// }} ""
// {{{ 293 1 0 "3a88a510_24c7_4c3c_b853a5a8589889fc" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::GetDictionaryItem(Dict, Translate("TransferVolume"), TransferVolumesString);
// }} ""
// {{{ 294 1 0 "8317f635_abc4_485d_a8a71418c024ff21" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::ParseDelimitedList(Delimiter, TransferVolumesString, TransferVolumeStringsArray);
// }} ""
// {{{ 295 1 0 "184424f2_af0a_4e4c_a656fa6ceef54d13" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TOOLS::StringArrayToFloatArray(TransferVolumeStringsArray, TransferVolumesArray);
// }} ""
// {{{ 296 1 0 "7b270770_c811_42f1_b1ae0f254a4dd108" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_LIQUID_CLASSES::GetLiquidClassVolumes(LiquidClassVolumes);
// }} ""
// {{{ 297 1 0 "38a3e334_8dbe_4d18_807d781f95e520a3" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_LIQUID_CLASSES::GetLiquidClassCategories(LiquidClassCategories);
// }} ""
// {{{ 298 1 0 "5e0eb0e3_114b_4b03_b91278d4d83d9432" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
WaterCategoryIndex = TOOLS::IsInArray(Translate("Water"), LiquidClassCategories);
// }} ""
// {{{ 299 1 0 "7c60c168_0050_4439_a1a614c2529a5a8a" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
PIPETTE_CONFIG_LIQUID_CLASSES::GetLiquidClassClasses(LiquidClassClasses);
// }} ""
// {{ 300 1 0 "84137a99_ba3c_4561_a5efc34682816297" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumLiquidTypes=LiquidCategoriesStringsArray.GetSize();
// }} ""
// {{ 301 1 0 "ab86f1d0_37e0_4c91_bff47b0d3c6eb521" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumLiquidClassVolumes=LiquidClassVolumes.GetSize();
// }} ""
// {{ 302 1 0 "8788b1a1_d9f3_4a50_a1a71a3611ac2a7b" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumLiquidClassCategories=LiquidClassCategories.GetSize();
// }} ""
// {{ 303 1 0 "bb9d6a4c_fe7d_4ccf_b70f826db6604533" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
GeneratedLiquidClasses.SetSize(0);
// }} ""
// {{ 304 1 0 "56015b6f_58eb_461d_a9526bd238dbee8b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumLiquidTypes;)
{
Counter = Counter + 1;
// }} ""
// {{{ 305 1 0 "0407d29b_edaa_4622_8a69e3b84fa5ff8e" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
Index = TOOLS::IsInArray(LiquidCategoriesStringsArray.ElementAt( Counter -1), LiquidClassCategories);
// }} ""
// {{ 306 1 0 "3d67b3fd_0f1d_4943_b61352821a85e9b2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Index == 0)
{
// }} ""
// {{ 307 1 0 "15ab84c1_289d_4aca_b44f2757babdef57" "{B31F3543-5D80-11d4-A5EB-0050DA737D89}"
Index = WaterCategoryIndex;
// }} ""
// {{ 308 1 0 "3d67b3fd_0f1d_4943_b61352821a85e9b2" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 309 1 0 "50cb9fc8_1202_43c4_87f8cd162264e64b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter2 = 0; Counter2 < NumLiquidClassVolumes;)
{
Counter2 = Counter2 + 1;
// }} ""
// {{{ 310 1 0 "68058a7b_4e7a_4265_b5a013338b001cb7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
LiquidClass = HSLExtensions::Array2D::GetValue(LiquidClassClasses, Index, Counter2);
// }} ""
// {{ 311 1 0 "ffb7978c_ecd4_425d_8688bdb2e9a86d49" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (TransferVolumesArray.ElementAt( Counter -1) <= LiquidClassVolumes.ElementAt( Counter2 -1))
{
// }} ""
// {{ 312 1 0 "40cc0d26_f2e5_45b0_a97fa4d41e42c1e3" "{B31F3533-5D80-11d4-A5EB-0050DA737D89}"
break;
// }} ""
// {{ 313 1 0 "ffb7978c_ecd4_425d_8688bdb2e9a86d49" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 314 1 0 "50cb9fc8_1202_43c4_87f8cd162264e64b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 315 1 0 "2f219a86_64ae_4766_913ffc14c68d7347" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
GeneratedLiquidClasses.AddAsLast(LiquidClass);
// }} ""
// {{ 316 1 0 "56015b6f_58eb_461d_a9526bd238dbee8b" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 317 1 0 "735103ff_7bc7_4a0a_a72860427eab9917" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnVal = TOOLS::ArrayToDelimitedList(Delimiter, GeneratedLiquidClasses);
// }} ""
// {{{ 318 1 0 "edca9486_df33_4c05_948f18c8a886fcd6" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ID = RETURNIDS::SuccessItemsReturned();
// }} ""
// {{{ 319 1 0 "2980b5ec_cbfc_4552_b1d1c7d06d6b4128" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
ReturnString = RETURN::CreateReturnString(ID, Translate("LiquidClassStrings delimited list returned"), Translate("Response"), ReturnVal);
// }} ""
// {{{ 320 1 0 "00886f6e_2fc8_4edb_9c88bec00c6ee6a1" "{9EC997CD-FD3B-4280-811B-49E99DCF062C}"
return (ReturnString);
// }} ""
// {{{ 5 "GetLiquidClassStrings" "End"
}
// }} ""
// {{{ 5 "GetNumUsedTips" "Begin"
function GetNumUsedTips( variable & o_Dict[] ) void {
// }} ""
private variable NumTips;
private variable Counter;
private variable Volume;
private variable Key;
// {{ 5 "GetNumUsedTips" "InitLocals"
o_Dict.SetSize( 0);
// }} ""
// {{ 322 1 0 "4dae737f_15c2_426f_90375ed82b189e7d" "{72EACF88-8D49-43e3-92C8-2F90E81E3260}"
NumTips=_MODULE_PIPETTE_TrackedTipSequenceStrings.GetSize();
// }} ""
// {{{ 323 1 0 "74cd2fe7_5e12_4df4_a3d4785f354fcb54" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
o_Dict = HSLExtensions::Array2D::Create(2, NumTips);
// }} ""
// {{ 324 1 0 "a214bcc2_9469_471b_9f96b28fe56ee3a8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumTips;)
{
Counter = Counter + 1;
// }} ""
// {{{ 325 1 0 "3bbaa1a5_0ded_4b33_9d84b4c27279a32a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Volume = StrIStr(_MODULE_PIPETTE_TrackedTipSequenceVolumes.ElementAt( Counter -1));
// }} ""
// {{{ 326 1 0 "1b3bd3b8_be36_4706_a2ef10f7c3d92b5f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Key = StrConcat2(_MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( Counter -1), Volume);
// }} ""
// {{{ 327 1 0 "63c588cb_4687_444d_850cea11082da516" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
TrcTrace(Key, Translate(""));
// }} ""
// {{{ 328 1 0 "74222abd_218f_4f45_b9f5be67d4379d15" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::Array2D::SetValue(o_Dict, 1, Counter, Key);
// }} ""
// {{{ 329 1 0 "d069c854_69ba_46b8_808b7bb9f42072cf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLExtensions::Array2D::SetValue(o_Dict, 2, Counter, _MODULE_PIPETTE_TrackedTipSequencesNumUsed.ElementAt( Counter -1));
// }} ""
// {{ 330 1 0 "a214bcc2_9469_471b_9f96b28fe56ee3a8" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 5 "GetNumUsedTips" "End"
}
// }} ""
// {{{ 5 "GetTipSequenceInfo" "Begin"
function GetTipSequenceInfo( variable i_TipSequenceString, variable & o_TipInfoDict[] ) void {
// }} ""
private variable TrackedIndex;
private variable Values[];
private variable Keys[];
// {{ 5 "GetTipSequenceInfo" "InitLocals"
// }} ""
// {{{ 332 1 0 "aa8ddc28_8e70_4552_9b96fe04335ba8c4" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
TrackedIndex = TOOLS::IsInArray(i_TipSequenceString, _MODULE_PIPETTE_TrackedTipSequenceStrings);
// }} ""
// {{ 333 1 0 "68fa0129_56bb_4b99_ba55c5938999f7b8" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
Keys.SetSize(0);
// }} ""
// {{ 334 1 0 "1ffe9972_424d_4fc9_a89922268f303d95" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("TipSequenceString"));
// }} ""
// {{ 335 1 0 "ce16beb3_9a08_4bc7_892c7178b71539c1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("TipType"));
// }} ""
// {{ 336 1 0 "46c658b4_fba2_4d1b_b13e942cfa5d1ce7" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("TipVolume"));
// }} ""
// {{ 337 1 0 "48e9c6ec_dec5_4119_af2698f8b18d8bd1" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("NumUsed"));
// }} ""
// {{ 338 1 0 "f2cc348b_9a1c_4c44_8959069211fcf396" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("TipCounterString"));
// }} ""
// {{ 339 1 0 "db74b41b_ccef_47ad_87911a0c94a80b69" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("WasteSequenceString"));
// }} ""
// {{ 340 1 0 "ccfe3458_6457_4bbb_9f534e96dcf4aa3f" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Keys.AddAsLast(Translate("GeneratedWasteSequenceString"));
// }} ""
// {{ 341 1 0 "37c14b85_5319_4ef9_8a134e3cfc59cd80" "{4900C1F7-0FB7-4033-8253-760BDB9354DC}"
Values.SetSize(0);
// }} ""
// {{ 342 1 0 "36063c7f_008e_45d9_997a120a3ef2249e" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequenceStrings.ElementAt( TrackedIndex -1));
// }} ""
// {{ 343 1 0 "b3e32b2e_dfb1_41a9_8f529d4000bebb8c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequenceTypes.ElementAt( TrackedIndex -1));
// }} ""
// {{ 344 1 0 "bb4d1e71_bc7a_4052_b4f0926b220f5359" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequenceVolumes.ElementAt( TrackedIndex -1));
// }} ""
// {{ 345 1 0 "e7751d77_73ee_4b5a_aa0f9a75c405364c" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequencesNumUsed.ElementAt( TrackedIndex -1));
// }} ""
// {{ 346 1 0 "4fc0c3b1_ac1c_4722_8ca726957cf37f68" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequencesTipCounter.ElementAt( TrackedIndex -1));
// }} ""
// {{ 347 1 0 "22b56f19_ba54_45b3_946a855670ce86b5" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequencesWasteSequence.ElementAt( TrackedIndex -1));
// }} ""
// {{ 348 1 0 "7b2c5b3a_800e_4418_8cb7802cfb7c1837" "{F17B7626-27CB-47f1-8477-8C4158339A6D}"
Values.AddAsLast(_MODULE_PIPETTE_TrackedTipSequencesGeneratedWasteSequence.ElementAt( TrackedIndex -1));
// }} ""
// {{{ 349 1 0 "a6e87105_d882_4b60_9195f91891a1494f" "{7C4EF7A7-39BE-406a-897F-71F3A35B4093}"
COMMANDS::ArraysToDictionary(Keys, Values, o_TipInfoDict);
// }} ""
// {{{ 5 "GetTipSequenceInfo" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=BAREB$$valid=0$$time=2022-04-27 16:27$$checksum=a83484fd$$length=084$$